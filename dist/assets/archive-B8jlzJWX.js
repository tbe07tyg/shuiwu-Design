import{P as de}from"./PageContainer-BUwLJmxd.js";import{_ as ce,a as C,c as ue,o as me,f as u,w as n,g as m,i as o,d as t,b as _,p as g,e as a,j as d,m as r,S as re,v as x,x as z,t as i,n as f,B as R,E as D,R as S,C as pe,k}from"./index-XOIS1SV9.js";import{R as _e}from"./RocketOutlined-2IJnOtVR.js";import{P as ve}from"./PieChartOutlined-37Tu3vQT.js";import{T as he}from"./TrophyOutlined-B2WwIb7z.js";import{E as ge}from"./ExportOutlined-DgwVHsvH.js";/* empty css                                                                      */const fe={class:"query-section"},ke={class:"archive-list"},ye={class:"project-header"},Ce={class:"project-basic"},be={class:"project-main-info"},we={class:"project-name"},Me={class:"project-meta"},xe={class:"project-leader"},ze={class:"project-duration"},De={class:"project-status"},$e={class:"project-quick-stats"},Pe={class:"stat-item"},Be={class:"stat-value"},Te={class:"stat-item"},Ne={class:"stat-value"},Re={class:"stat-item"},Se={class:"stat-value"},Oe={class:"project-phases"},Ae={class:"phases-container"},Ve={class:"phase-icon"},Le={class:"phase-content"},Ee={class:"phase-time"},Ue={class:"phase-meeting"},qe={class:"phase-conclusion"},Fe={class:"phase-actions"},He={class:"phase-icon"},Ie={class:"phase-content"},Je={class:"phase-time"},Qe={class:"phase-meeting"},Ge={class:"phase-conclusion"},Ke={class:"phase-actions"},We={class:"phase-icon"},Xe={class:"phase-content"},Ye={class:"phase-time"},Ze={class:"phase-meeting"},je={class:"phase-conclusion"},et={class:"phase-actions"},tt={class:"phase-icon"},st={class:"phase-content"},at={class:"phase-time"},nt={class:"achievements-list"},it={key:0,class:"achievement-summary"},lt={key:0,class:"more-achievements"},ot={key:1,class:"no-achievements"},dt={class:"phase-actions"},ct={key:0,class:"empty-state"},ut={key:0,class:"phase-detail"},mt={class:"detail-section"},rt={key:0,class:"detail-section"},pt={class:"material-item"},_t={class:"material-info"},vt={class:"material-name"},ht={class:"material-size"},gt={class:"material-actions"},ft={key:1,class:"detail-section"},kt={class:"review-list"},yt={class:"review-header"},Ct={class:"reviewer-name"},bt={class:"review-time"},wt={class:"review-content"},Mt={class:"review-score"},xt={class:"score-text"},zt={key:2,class:"detail-section"},Dt={class:"meeting-minutes"},$t={class:"minutes-header"},Pt={class:"minutes-info"},Bt={class:"info-item"},Tt={class:"info-item"},Nt={class:"info-item"},Rt={class:"minutes-content"},St={class:"content-section"},Ot={class:"attendees"},At={class:"content-section"},Vt={class:"meeting-content"},Lt={class:"content-section"},Et={class:"meeting-conclusion"},Ut={__name:"archive",setup(qt){const v=C({projectName:"",status:void 0,dateRange:void 0}),V=C([{id:1,name:"智慧城市大数据平台建设项目",code:"PROJ-2024-001",leader:"张三",startDate:"2023-06-01",endDate:"2024-05-31",currentStatus:"acceptance",phases:{opening:{status:"completed",time:"2023-06-15",startTime:"2023-06-01",endTime:"2023-06-20",meetingDate:"2023-06-15 14:00",meetingLocation:"会议室A-301",meetingHost:"李主任",conclusion:"开题通过，同意按计划实施",attendees:["张三","李四","王五","赵六"],meetingMinutes:"经过专家组评审，项目开题报告内容详实，技术路线清晰，预期目标明确，同意按计划实施。",materials:[{id:1,name:"开题报告.pdf",size:"2.5MB"},{id:2,name:"技术方案.docx",size:"1.8MB"}],reviews:[{id:1,reviewer:"专家A",time:"2023-06-15",content:"项目技术路线合理，目标明确，建议按计划实施。",score:85}]},midterm:{status:"completed",time:"2023-12-10",startTime:"2023-12-01",endTime:"2023-12-15",meetingDate:"2023-12-10 09:00",meetingLocation:"会议室B-201",meetingHost:"王主任",conclusion:"中期检查通过，项目进展良好",attendees:["张三","李四","专家B","专家C"],meetingMinutes:"项目按计划推进，阶段性成果显著，技术指标达到预期，建议继续实施。",materials:[{id:3,name:"中期报告.pdf",size:"3.2MB"},{id:4,name:"阶段成果.zip",size:"15.6MB"}],reviews:[{id:2,reviewer:"专家B",time:"2023-12-10",content:"项目进展顺利，阶段性成果良好，建议继续实施。",score:88}]},acceptance:{status:"in_progress",time:"2024-01-15",startTime:"2024-01-15",endTime:null,meetingDate:"2024-01-25 14:00",meetingLocation:"会议室A-201",conclusion:null,materials:[{id:5,name:"验收报告.pdf",size:"4.1MB"},{id:6,name:"项目总结.pdf",size:"2.8MB"}]}},stats:{duration:12,budget:500,achievements:15},achievements:[{title:"智慧城市数据分析平台V1.0",type:"软件著作权"},{title:"基于大数据的城市治理方法研究",type:"论文"},{title:"城市数据安全防护技术专利",type:"发明专利"},{title:"大数据平台架构设计报告",type:"技术报告"},{title:"智慧城市建设标准规范",type:"标准规范"}]},{id:2,name:"区块链供应链金融平台",code:"PROJ-2024-002",leader:"李四",startDate:"2023-08-01",endDate:"2024-07-31",currentStatus:"midterm",phases:{opening:{status:"completed",time:"2023-08-15",meetingDate:"2023-08-15 10:00",conclusion:"开题通过"},midterm:{status:"in_progress",time:"2024-01-20",meetingDate:null,conclusion:null},acceptance:{status:"pending",time:null,meetingDate:null,conclusion:null}},stats:{duration:12,budget:300,achievements:8},achievements:[{title:"区块链供应链管理系统V1.0",type:"软件著作权"},{title:"供应链金融风险评估模型",type:"论文"},{title:"区块链数据存储优化方法",type:"发明专利"}]}]),$=C(!1),c=C(null),O=C(""),A=ue(()=>{let l=V.value;return v.value.projectName&&(l=l.filter(e=>e.name.includes(v.value.projectName)||e.code.includes(v.value.projectName))),v.value.status&&(l=l.filter(e=>e.currentStatus===v.value.status)),l}),L=l=>({opening:"blue",midterm:"orange",acceptance:"purple",completed:"green"})[l]||"default",E=l=>({opening:"开题阶段",midterm:"中期阶段",acceptance:"验收阶段",completed:"已完成"})[l]||"未知",P=(l,e)=>{if(!e)return"phase-pending";switch(e.status){case"completed":return"phase-completed";case"in_progress":return"phase-active";case"pending":return"phase-pending";default:return"phase-pending"}},U=l=>l.achievements&&l.achievements.length>0?"phase-completed":"phase-pending",B=l=>({opening:"项目开题",midterm:"项目中期",acceptance:"项目验收"})[l]||"未知阶段",q=l=>({completed:"green",in_progress:"blue",pending:"default"})[l]||"default",F=l=>({completed:"已完成",in_progress:"进行中",pending:"待开始"})[l]||"未知",H=()=>{k.success("档案导出功能")},I=()=>{k.info("查询完成")},J=()=>{v.value={projectName:"",status:void 0,dateRange:void 0}},T=(l,e)=>{const p=l.phases[e];c.value={...p,type:e,projectName:l.name},O.value=`${l.name} - ${B(e)}`,$.value=!0},N=(l,e)=>{k.success(`下载${B(e)}材料`)},Q=l=>{k.info(`预览材料：${l.name}`)},G=l=>{k.success(`下载材料：${l.name}`)},K=l=>{k.info(`查看${l.name}的相关成果`)},W=l=>{k.success(`导出${l.name}的成果清单`)};return me(()=>{}),(l,e)=>{const p=m("a-button"),X=m("a-input"),b=m("a-form-item"),w=m("a-select-option"),Y=m("a-select"),Z=m("a-range-picker"),j=m("a-space"),ee=m("a-form"),M=m("a-tag"),te=m("a-empty"),y=m("a-descriptions-item"),se=m("a-descriptions"),ae=m("a-list-item"),ne=m("a-list"),ie=m("a-rate"),le=m("a-modal");return o(),u(de,{title:"项目历史档案",description:"查看项目从开题到验收的完整历史记录"},{actions:n(()=>[a(p,{onClick:H},{default:n(()=>[a(r(ge)),e[4]||(e[4]=d(" 导出档案 "))]),_:1,__:[4]})]),default:n(()=>[t("div",fe,[a(ee,{layout:"inline",model:v.value,onFinish:I},{default:n(()=>[a(b,{label:"项目名称",name:"projectName"},{default:n(()=>[a(X,{value:v.value.projectName,"onUpdate:value":e[0]||(e[0]=s=>v.value.projectName=s),placeholder:"请输入项目名称","allow-clear":"",style:{width:"200px"}},null,8,["value"])]),_:1}),a(b,{label:"项目状态",name:"status"},{default:n(()=>[a(Y,{value:v.value.status,"onUpdate:value":e[1]||(e[1]=s=>v.value.status=s),placeholder:"请选择状态","allow-clear":"",style:{width:"150px"}},{default:n(()=>[a(w,{value:"opening"},{default:n(()=>e[5]||(e[5]=[d("开题阶段")])),_:1,__:[5]}),a(w,{value:"midterm"},{default:n(()=>e[6]||(e[6]=[d("中期阶段")])),_:1,__:[6]}),a(w,{value:"acceptance"},{default:n(()=>e[7]||(e[7]=[d("验收阶段")])),_:1,__:[7]}),a(w,{value:"completed"},{default:n(()=>e[8]||(e[8]=[d("已完成")])),_:1,__:[8]})]),_:1},8,["value"])]),_:1}),a(b,{label:"时间范围",name:"dateRange"},{default:n(()=>[a(Z,{value:v.value.dateRange,"onUpdate:value":e[2]||(e[2]=s=>v.value.dateRange=s),style:{width:"240px"}},null,8,["value"])]),_:1}),a(b,null,{default:n(()=>[a(j,null,{default:n(()=>[a(p,{type:"primary","html-type":"submit"},{default:n(()=>[a(r(re)),e[9]||(e[9]=d(" 查询 "))]),_:1,__:[9]}),a(p,{onClick:J},{default:n(()=>e[10]||(e[10]=[d(" 重置 ")])),_:1,__:[10]})]),_:1})]),_:1})]),_:1},8,["model"])]),t("div",ke,[(o(!0),_(x,null,z(A.value,s=>(o(),_("div",{key:s.id,class:"archive-item"},[t("div",ye,[t("div",Ce,[t("div",be,[t("h3",we,i(s.name),1),t("div",Me,[a(M,{color:"blue"},{default:n(()=>[d(i(s.code),1)]),_:2},1024),t("span",xe,i(s.leader),1),t("span",ze,i(s.startDate)+" ~ "+i(s.endDate),1)])]),t("div",De,[a(M,{color:L(s.currentStatus),size:"large"},{default:n(()=>[d(i(E(s.currentStatus)),1)]),_:2},1032,["color"])])]),t("div",$e,[t("div",Pe,[t("span",Be,i(s.stats.duration),1),e[11]||(e[11]=t("span",{class:"stat-label"},"月",-1))]),t("div",Te,[t("span",Ne,i(s.stats.budget),1),e[12]||(e[12]=t("span",{class:"stat-label"},"万元",-1))]),t("div",Re,[t("span",Se,i(s.stats.achievements),1),e[13]||(e[13]=t("span",{class:"stat-label"},"成果",-1))])])]),t("div",Oe,[t("div",Ae,[t("div",{class:f(["phase-card",P("opening",s.phases.opening)])},[t("div",Ve,[s.phases.opening.status==="completed"?(o(),u(r(_e),{key:0})):s.phases.opening.status==="in_progress"?(o(),u(r(R),{key:1})):(o(),u(r(D),{key:2}))]),t("div",Le,[e[14]||(e[14]=t("div",{class:"phase-title"},"项目开题",-1)),t("div",Ee,i(s.phases.opening.time||"未开始"),1),t("div",Ue," 会议："+i(s.phases.opening.meetingDate||"未安排"),1),t("div",qe,i(s.phases.opening.conclusion||"待定"),1)]),t("div",Fe,[a(p,{type:"link",size:"small",onClick:h=>T(s,"opening")},{default:n(()=>e[15]||(e[15]=[d(" 详情 ")])),_:2,__:[15]},1032,["onClick"]),s.phases.opening.materials?(o(),u(p,{key:0,type:"link",size:"small",onClick:h=>N(s,"opening")},{default:n(()=>e[16]||(e[16]=[d(" 材料 ")])),_:2,__:[16]},1032,["onClick"])):g("",!0)])],2),t("div",{class:f(["phase-connector",{active:s.phases.opening.status==="completed"}])},[e[17]||(e[17]=t("div",{class:"connector-line"},null,-1)),a(r(S),{class:"connector-arrow"})],2),t("div",{class:f(["phase-card",P("midterm",s.phases.midterm)])},[t("div",He,[s.phases.midterm.status==="completed"?(o(),u(r(ve),{key:0})):s.phases.midterm.status==="in_progress"?(o(),u(r(R),{key:1})):(o(),u(r(D),{key:2}))]),t("div",Ie,[e[18]||(e[18]=t("div",{class:"phase-title"},"项目中期",-1)),t("div",Je,i(s.phases.midterm.time||"未开始"),1),t("div",Qe," 会议："+i(s.phases.midterm.meetingDate||"未安排"),1),t("div",Ge,i(s.phases.midterm.conclusion||"待定"),1)]),t("div",Ke,[a(p,{type:"link",size:"small",onClick:h=>T(s,"midterm")},{default:n(()=>e[19]||(e[19]=[d(" 详情 ")])),_:2,__:[19]},1032,["onClick"]),s.phases.midterm.materials?(o(),u(p,{key:0,type:"link",size:"small",onClick:h=>N(s,"midterm")},{default:n(()=>e[20]||(e[20]=[d(" 材料 ")])),_:2,__:[20]},1032,["onClick"])):g("",!0)])],2),t("div",{class:f(["phase-connector",{active:s.phases.midterm.status==="completed"}])},[e[21]||(e[21]=t("div",{class:"connector-line"},null,-1)),a(r(S),{class:"connector-arrow"})],2),t("div",{class:f(["phase-card",P("acceptance",s.phases.acceptance)])},[t("div",We,[s.phases.acceptance.status==="completed"?(o(),u(r(pe),{key:0})):s.phases.acceptance.status==="in_progress"?(o(),u(r(R),{key:1})):(o(),u(r(D),{key:2}))]),t("div",Xe,[e[22]||(e[22]=t("div",{class:"phase-title"},"项目验收",-1)),t("div",Ye,i(s.phases.acceptance.time||"未开始"),1),t("div",Ze," 会议："+i(s.phases.acceptance.meetingDate||"未安排"),1),t("div",je,i(s.phases.acceptance.conclusion||"待定"),1)]),t("div",et,[a(p,{type:"link",size:"small",onClick:h=>T(s,"acceptance")},{default:n(()=>e[23]||(e[23]=[d(" 详情 ")])),_:2,__:[23]},1032,["onClick"]),s.phases.acceptance.materials?(o(),u(p,{key:0,type:"link",size:"small",onClick:h=>N(s,"acceptance")},{default:n(()=>e[24]||(e[24]=[d(" 材料 ")])),_:2,__:[24]},1032,["onClick"])):g("",!0)])],2),t("div",{class:f(["phase-connector",{active:s.phases.acceptance.status==="completed"}])},[e[25]||(e[25]=t("div",{class:"connector-line"},null,-1)),a(r(S),{class:"connector-arrow"})],2),t("div",{class:f(["phase-card achievements-card",U(s)])},[t("div",tt,[s.achievements&&s.achievements.length>0?(o(),u(r(he),{key:0})):(o(),u(r(D),{key:1}))]),t("div",st,[e[26]||(e[26]=t("div",{class:"phase-title"},"相关成果",-1)),t("div",at,i(s.achievements?s.achievements.length:0)+" 项成果 ",1),t("div",nt,[s.achievements&&s.achievements.length>0?(o(),_("div",it,[(o(!0),_(x,null,z(s.achievements.slice(0,2),(h,oe)=>(o(),_("div",{key:oe,class:"achievement-item"},i(h.title),1))),128)),s.achievements.length>2?(o(),_("div",lt," 还有 "+i(s.achievements.length-2)+" 项成果... ",1)):g("",!0)])):(o(),_("div",ot," 暂无绑定成果 "))])]),t("div",dt,[a(p,{type:"link",size:"small",onClick:h=>K(s)},{default:n(()=>e[27]||(e[27]=[d(" 查看 ")])),_:2,__:[27]},1032,["onClick"]),s.achievements&&s.achievements.length>0?(o(),u(p,{key:0,type:"link",size:"small",onClick:h=>W(s)},{default:n(()=>e[28]||(e[28]=[d(" 导出 ")])),_:2,__:[28]},1032,["onClick"])):g("",!0)])],2)])])]))),128))]),A.value.length===0?(o(),_("div",ct,[a(te,{description:"暂无项目档案数据"})])):g("",!0),a(le,{open:$.value,"onUpdate:open":e[3]||(e[3]=s=>$.value=s),title:O.value,width:"900px",footer:null},{default:n(()=>[c.value?(o(),_("div",ut,[t("div",mt,[e[29]||(e[29]=t("h4",null,"基本信息",-1)),a(se,{column:2,bordered:""},{default:n(()=>[a(y,{label:"阶段名称"},{default:n(()=>[d(i(B(c.value.type)),1)]),_:1}),a(y,{label:"当前状态"},{default:n(()=>[a(M,{color:q(c.value.status)},{default:n(()=>[d(i(F(c.value.status)),1)]),_:1},8,["color"])]),_:1}),a(y,{label:"开始时间"},{default:n(()=>[d(i(c.value.startTime),1)]),_:1}),a(y,{label:"完成时间"},{default:n(()=>[d(i(c.value.endTime||"进行中"),1)]),_:1}),a(y,{label:"会议时间"},{default:n(()=>[d(i(c.value.meetingDate||"未安排"),1)]),_:1}),a(y,{label:"会议地点"},{default:n(()=>[d(i(c.value.meetingLocation||"未定"),1)]),_:1})]),_:1})]),c.value.materials?(o(),_("div",rt,[e[32]||(e[32]=t("h4",null,"提交材料",-1)),a(ne,{"data-source":c.value.materials,size:"small"},{renderItem:n(({item:s})=>[a(ae,null,{default:n(()=>[t("div",pt,[t("div",_t,[t("span",vt,i(s.name),1),t("span",ht,i(s.size),1)]),t("div",gt,[a(p,{type:"link",size:"small",onClick:h=>Q(s)},{default:n(()=>e[30]||(e[30]=[d(" 预览 ")])),_:2,__:[30]},1032,["onClick"]),a(p,{type:"link",size:"small",onClick:h=>G(s)},{default:n(()=>e[31]||(e[31]=[d(" 下载 ")])),_:2,__:[31]},1032,["onClick"])])])]),_:2},1024)]),_:1},8,["data-source"])])):g("",!0),c.value.reviews?(o(),_("div",ft,[e[34]||(e[34]=t("h4",null,"专家评审意见",-1)),t("div",kt,[(o(!0),_(x,null,z(c.value.reviews,s=>(o(),_("div",{key:s.id,class:"review-item"},[t("div",yt,[t("span",Ct,i(s.reviewer),1),t("span",bt,i(s.time),1)]),t("div",wt,i(s.content),1),t("div",Mt,[e[33]||(e[33]=d(" 评分：")),a(ie,{value:s.score/2,disabled:"","allow-half":""},null,8,["value"]),t("span",xt,i(s.score)+"分",1)])]))),128))])])):g("",!0),c.value.meetingMinutes?(o(),_("div",zt,[e[38]||(e[38]=t("h4",null,"会议纪要",-1)),t("div",Dt,[t("div",$t,[t("div",Pt,[t("span",Bt,"会议时间："+i(c.value.meetingDate),1),t("span",Tt,"会议地点："+i(c.value.meetingLocation),1),t("span",Nt,"主持人："+i(c.value.meetingHost),1)])]),t("div",Rt,[t("div",St,[e[35]||(e[35]=t("h5",null,"参会人员",-1)),t("div",Ot,[(o(!0),_(x,null,z(c.value.attendees,s=>(o(),u(M,{key:s},{default:n(()=>[d(i(s),1)]),_:2},1024))),128))])]),t("div",At,[e[36]||(e[36]=t("h5",null,"会议内容",-1)),t("div",Vt,i(c.value.meetingMinutes),1)]),t("div",Lt,[e[37]||(e[37]=t("h5",null,"会议结论",-1)),t("div",Et,i(c.value.conclusion),1)])])])])):g("",!0)])):g("",!0)]),_:1},8,["open","title"])]),_:1})}}},Wt=ce(Ut,[["__scopeId","data-v-d7bb6076"]]);export{Wt as default};
