# 📋 需求池管理页面设计文档 v1.0

## 📄 页面基础信息

- **页面名称**: 需求池管理
- **路由地址**: `/research/requirements`
- **组件路径**: `src/views/research/requirements/index.vue`
- **设计版本**: v1.0
- **更新时间**: 2025-01-17

## 🎨 UI布局草图

### 整体页面布局结构

```
┌─────────────────────────────────────────────────────────────────┐
│                    📋 需求池管理页面容器                         │
│                   (全屏宽度，背景 #f5f8ff)                       │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                📊 页面头部区域                          │   │
│  │  ┌─────────────────────┐  ┌─────────────────────────┐  │   │
│  │  │ 📋 需求池管理        │  │ [+新增需求] [导出需求]   │  │   │
│  │  │ 项目调研的起点，收集   │  │                        │  │   │
│  │  │ 和管理各类研发需求    │  │                        │  │   │
│  │  │ 项目调研的起点，收集   │  │                        │  │   │
│  │  │ 和管理各类研发需求    │  │                        │  │   │
│  │  └─────────────────────┘  └─────────────────────────┘  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                🔍 筛选和统计区域                         │   │
│  │  [状态▼] [优先级▼] [分类▼] [🔍搜索框______] 需求总数: 128  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                📊 需求状态看板区域                       │   │
│  │  ┌──────┐  ┌──────┐  ┌──────┐  ┌──────┐                 │   │
│  │  │待分析│  │进行中│  │已完成│  │已暂停│                 │   │
│  │  │  8   │  │  5   │  │  12  │  │  3   │                 │   │
│  │  │      │  │      │  │      │  │      │                 │   │
│  │  │ 📝需求│  │ 📝需求│  │ 📝需求│  │ 📝需求│                 │   │
│  │  │ 📝需求│  │ 📝需求│  │ 📝需求│  │ 📝需求│                 │   │
│  │  │ 📝需求│  │ 📝需求│  │ 📝需求│  │      │                 │   │
│  │  │ ...  │  │ ...  │  │ ...  │  │      │                 │   │
│  │  └──────┘  └──────┘  └──────┘  └──────┘                 │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                📋 详细表格区域（可切换）                  │   │
│  │  ┌─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┐      │   │
│  │  │标题  │分类  │优先级│状态  │预算  │提出人│时间  │操作  │      │   │
│  │  ├─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────┤      │   │
│  │  │智能水│技术创│ 高  │待分析│200万 │张三  │01-15│编辑  │      │   │
│  │  │质监测│新    │     │     │     │     │     │调研  │      │   │
│  │  ├─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────┤      │   │
│  │  │污水处│工艺改│ 中  │进行中│150万 │李四  │01-20│编辑  │      │   │
│  │  │理工艺│进    │     │     │     │     │     │调研  │      │   │
│  │  └─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┘      │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 需求卡片详细设计

```
┌─────────────────────────────────────────┐
│              📝 需求卡片                 │
├─────────────────────────────────────────┤
│  智能水质监测系统升级               🔴高  │
│                                         │
│  📊 技术创新   👤 张三   📅 2024-01-15  │
│                                         │
│  💰 预估预算: ¥200万                    │
│  ⏱️ 预期周期: 12个月                     │
│                                         │
│  📝 对现有水质监测系统进行智能化升级，   │
│     增加AI预警功能和大数据分析能力...    │
│                                         │
│  🏷️ [AI] [大数据] [水质监测]            │
│                                         │
│  ┌─────┐ ┌─────┐ ┌─────┐                │
│  │编辑  │ │详情  │ │ ⋮   │                │
│  └─────┘ └─────┘ └─────┘                │
└─────────────────────────────────────────┘
```

### 新增/编辑需求弹窗设计

```
┌─────────────────────────────────────────────────────┐
│  📝 新增需求                                  ✖️   │
├─────────────────────────────────────────────────────┤
│                                                     │
│  基础信息                                           │
│  ┌─────────────────────────────────────────────┐   │
│  │ 需求标题: [智能水质监测系统升级____________] │   │
│  └─────────────────────────────────────────────┘   │
│                                                     │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐   │
│  │需求分类[技术▼]│ │优先级[高▼]  │ │提出部门[___▼]│   │
│  └─────────────┘ └─────────────┘ └─────────────┘   │
│                                                     │
│  需求描述                                           │
│  ┌─────────────────────────────────────────────┐   │
│  │ 对现有水质监测系统进行智能化升级，增加AI... │   │
│  │ ________________________________________ │   │
│  │ ________________________________________ │   │
│  └─────────────────────────────────────────────┘   │
│                                                     │
│  项目评估                                           │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐   │
│  │预估预算[200万]│ │预期周期[12月]│ │技术可行性[高▼]│   │
│  └─────────────┘ └─────────────┘ └─────────────┘   │
│                                                     │
│  ┌─────────────┐ ┌─────────────┐                   │
│  │市场需求[大▼] │ │风险等级[中▼] │                   │
│  └─────────────┘ └─────────────┘                   │
│                                                     │
│  标签设置                                           │
│  ┌─────────────────────────────────────────────┐   │
│  │ [AI] [大数据] [水质监测] [+添加标签]          │   │
│  └─────────────────────────────────────────────┘   │
│                                                     │
│               ┌────┐ ┌────┐                        │
│               │取消│ │保存│                        │
│               └────┘ └────┘                        │
└─────────────────────────────────────────────────────┘
```

### 需求详情抽屉设计

```
┌─────────────────────────────────┐
│  📝 需求详情              ✖️   │
├─────────────────────────────────┤
│                                 │
│  智能水质监测系统升级            │
│  🔴 高优先级  📊 技术创新        │
│                                 │
│  基础信息                        │
│  ───────────────────────────    │
│  需求编号: REQ001               │
│  提出人: 张三 (技术部)           │
│  提出时间: 2024-01-15           │
│  当前状态: 待分析               │
│                                 │
│  项目评估                        │
│  ───────────────────────────    │
│  预估预算: ¥200万               │
│  预期周期: 12个月               │
│  技术可行性: 高                 │
│  市场需求: 大                   │
│  风险等级: 中                   │
│                                 │
│  需求描述                        │
│  ───────────────────────────    │
│  对现有水质监测系统进行智能化    │
│  升级，增加AI预警功能和大数据    │
│  分析能力，提升监测精度30%...    │
│                                 │
│  商业价值                        │
│  ───────────────────────────    │
│  提升水质监测精度30%，降低人工   │
│  成本50%，预计年收益500万元      │
│                                 │
│  标签                           │
│  ───────────────────────────    │
│  [AI] [大数据] [水质监测]        │
│                                 │
│  ┌─────┐ ┌─────┐                │
│  │编辑  │ │开始调研│                │
│  └─────┘ └─────┘                │
└─────────────────────────────────┘
```

## 📐 设计规格

### 🌈 色彩方案
- **页面背景**: `#f5f8ff` (淡蓝色)
- **卡片背景**: `#ffffff` (纯白)
- **主色调**: `#234fa2` (深蓝色)
- **优先级颜色**: 高-红色 `#ff4d4f`，中-橙色 `#faad14`，低-蓝色 `#1890ff`
- **状态颜色**: 待分析-灰色，进行中-蓝色，已完成-绿色，已暂停-橙色
- **卡片阴影**: `rgba(35,79,162,0.08)` - `rgba(35,79,162,0.12)`

### 📏 尺寸规格
- **页面内边距**: 24px
- **卡片圆角**: 12px - 16px
- **卡片间距**: 16px
- **看板列宽度**: 每列 25% (4列布局)
- **卡片最小高度**: 180px
- **筛选区域高度**: 64px
- **页面头部高度**: 120px

### 📝 字体规格
- **页面标题**: 24px, font-weight: bold
- **页面描述**: 14px, color: #666
- **卡片标题**: 16px, font-weight: 600
- **卡片内容**: 14px
- **标签文字**: 12px
- **按钮文字**: 14px

### 🎨 看板列样式
- **待分析**: 边框色 `#d9d9d9`，头部背景 `#fafafa`
- **进行中**: 边框色 `#1890ff`，头部背景 `#e6f7ff`
- **已完成**: 边框色 `#52c41a`，头部背景 `#f6ffed`
- **已暂停**: 边框色 `#faad14`，头部背景 `#fff7e6`

## ⚡ 交互逻辑

### 🔄 页面内交互

1. **筛选功能**
   - 状态、优先级、分类下拉筛选
   - 关键词搜索（标题+描述）
   - 多条件组合筛选
   - 实时筛选结果更新

2. **看板视图交互**
   - 按状态分列显示需求卡片
   - 卡片可拖拽切换状态（暂未实现）
   - 每列显示对应状态的数量
   - 空状态显示提示信息

3. **需求卡片交互**
   - 悬停显示阴影效果
   - 优先级颜色标识
   - 标签展示和管理
   - 快速操作按钮（编辑、详情、更多）

4. **表格视图交互**
   - 可切换看板/表格视图
   - 排序和分页功能
   - 行操作菜单
   - 横向滚动支持

### 🚀 弹窗和抽屉交互

1. **新增/编辑需求弹窗**
   - 表单验证和提示
   - 分步骤填写引导
   - 标签动态添加/删除
   - 数据联动（分类影响字段）

2. **需求详情抽屉**
   - 从右侧滑入显示
   - 完整信息展示
   - 快速操作按钮
   - 关联数据展示

3. **确认删除弹窗**
   - 二次确认机制
   - 风险提示信息
   - 数据安全保护

### 📊 数据管理功能

1. **CRUD操作**
   - 新增需求（弹窗表单）
   - 编辑需求（复用新增弹窗）
   - 删除需求（确认后删除）
   - 查看详情（抽屉展示）

2. **批量操作**
   - 批量状态更新
   - 批量删除
   - 批量导出

3. **数据导出**
   - Excel格式导出
   - 筛选结果导出
   - 自定义字段选择

## 🚀 页面间跳转

### 跳转路径设计

1. **从需求到调研**
   - 点击"开始调研" → 实地调研页面
   - 自动创建调研计划
   - 传递需求信息

2. **从需求到项目**
   - 已完成需求 → 立项申请
   - 需求信息自动填充
   - 创建项目档案

3. **关联页面跳转**
   - 需求详情 → 相关调研记录
   - 需求详情 → 相关项目信息
   - 需求详情 → 历史版本

### 导航面包屑
- 项目管理 > 项目调研 > 需求池管理
- 支持快速返回上级页面

## 📱 响应式设计

### 大屏设备 (≥1200px)
- 四列看板布局
- 表格完整展示
- 侧边操作面板

### 中屏设备 (768px - 1199px)
- 两列看板布局
- 表格横向滚动
- 筛选条件换行

### 小屏设备 (≤767px)
- 单列看板布局
- 卡片式表格展示
- 筛选条件折叠

## 🛠️ 技术实现

### 核心技术栈
- **Vue 3** + Composition API
- **Ant Design Vue** 组件库
- **拖拽功能**: Vue Draggable (计划实现)
- **数据处理**: Lodash 工具库

### 组件架构
1. **RequirementCard** - 需求卡片组件
2. **RequirementModal** - 新增/编辑弹窗
3. **RequirementDetail** - 详情抽屉组件
4. **主页面** - 布局和数据管理

### 关键功能实现
1. **动态筛选**: computed + watch 响应式筛选
2. **看板布局**: CSS Grid + Flexbox 布局
3. **状态管理**: ref/reactive 本地状态
4. **表单验证**: Ant Design 验证规则
5. **数据模拟**: 本地 mock 数据管理

## 🎯 用户体验亮点

1. **直观的信息展示**
   - 看板形式一目了然
   - 颜色编码快速识别
   - 关键信息突出显示

2. **高效的管理操作**
   - 多种筛选组合
   - 批量操作支持
   - 快速状态切换

3. **丰富的交互反馈**
   - 实时搜索结果
   - 悬停状态提示
   - 操作成功反馈

4. **灵活的视图切换**
   - 看板/表格自由切换
   - 适应不同使用场景
   - 保持筛选状态

## 📋 待优化项

1. **功能增强**
   - 需求优先级智能推荐
   - 相似需求自动匹配
   - 需求评分系统

2. **交互优化**
   - 拖拽排序功能
   - 键盘快捷键支持
   - 操作历史记录

3. **数据分析**
   - 需求趋势分析
   - 完成率统计
   - 价值评估报告

4. **协作功能**
   - 需求评论系统
   - 多人协作编辑
   - 审批工作流

## 🔗 关联组件说明

### RequirementCard 组件
- 展示需求基本信息
- 支持快速操作
- 响应式卡片布局

### RequirementModal 组件
- 复用新增/编辑逻辑
- 分步骤表单验证
- 动态字段控制

### RequirementDetail 组件
- 完整信息展示
- 关联数据显示
- 操作按钮集成 