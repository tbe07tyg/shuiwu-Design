# 📄 申请材料管理页面设计文档 v2.0

## 📄 页面基础信息

- **页面名称**: 申请材料管理页面
- **路由地址**: `/approval/materials`
- **组件路径**: `src/views/approval/materials/index.vue`
- **设计版本**: v2.0
- **更新时间**: 2025-01-17
- **实现状态**: 📋 设计阶段

## 🎯 功能定位

申请材料管理页面是立项申请流程的核心环节，提供项目申请材料的收集、整理、审核和归档功能，确保立项申请材料的完整性和规范性。

## 🎨 UI布局草图

### 页面整体布局

```
┌─────────────────────────────────────────────────────────────────┐
│                   📄 申请材料管理                                │
│                 (背景 #f5f8ff, 顶部工具栏 + 主体)               │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                    🔧 操作工具栏                         │   │
│  │  [➕新建申请] [📤批量上传] [📋模板下载] [🔍搜索____] 🎯   │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                    📊 统计概览                           │   │
│  │ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────────────┐  │   │
│  │ │📄 总计  │ │⏳ 待审核 │ │✅ 已通过 │ │❌ 未通过        │  │   │
│  │ │  25份   │ │  8份    │ │  12份   │ │  5份             │  │   │
│  │ └─────────┘ └─────────┘ └─────────┘ └─────────────────┘  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                  📋 材料列表                             │   │
│  │┌───────────────────────────────────────────────────────┐│   │
│  ││项目名称          │状态   │申请人   │时间       │操作   ││   │
│  │├───────────────────────────────────────────────────────┤│   │
│  ││🔬 水质监测系统   │⏳待审核│张工程师 │2025-01-15 │📝 📊 ││   │
│  ││📊 环保数据平台   │✅已通过│李研究员 │2025-01-14 │👁 📊 ││   │
│  ││🌊 智慧水务项目   │❌未通过│王主任   │2025-01-13 │📝 📊 ││   │
│  ││⚡ 节能监控系统   │⏳待审核│赵工程师 │2025-01-12 │📝 📊 ││   │
│  ││🏭 污水处理改造   │✅已通过│陈教授   │2025-01-11 │👁 📊 ││   │
│  │└───────────────────────────────────────────────────────┘│   │
│  │  [◀ 上一页]                               [下一页 ▶]     │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 材料详情查看界面

```
┌─────────────────────────────────────────────────────────────────┐
│                  📄 申请材料详情 - 水质监测系统                   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                  📋 基本信息                             │   │
│  │  项目名称: 水质监测系统研发                              │   │
│  │  申请人: 张工程师 (环境学院)                            │   │
│  │  申请时间: 2025-01-15 14:30                             │   │
│  │  项目类型: 技术研发类                                   │   │
│  │  预算金额: ¥158,000                                     │   │
│  │  实施周期: 12个月                                       │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                  📎 材料清单                             │   │
│  │  ✅ 项目申请书.pdf              📅 2025-01-15           │   │
│  │  ✅ 技术方案书.pdf              📅 2025-01-15           │   │
│  │  ✅ 预算明细表.xlsx             📅 2025-01-15           │   │
│  │  ✅ 团队成员简历.pdf            📅 2025-01-15           │   │
│  │  ⏳ 可行性研究报告.pdf          📅 待上传               │   │
│  │  ❌ 环评报告.pdf                📅 缺失                 │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                  💬 审核记录                             │   │
│  │  📝 初审 (李主任, 2025-01-16)                           │   │
│  │     "技术方案需要补充环境影响评估"                       │   │
│  │  📝 复审 (王教授, 2025-01-16)                           │   │
│  │     "预算明细需要更详细的设备清单"                       │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                  🔧 操作按钮                             │   │
│  │    [📝 编辑材料] [✅ 审核通过] [❌ 驳回申请] [📊 生成报告] │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 新建申请界面

```
┌─────────────────────────────────────────────────────────────────┐
│                    ➕ 新建申请材料                                │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                📋 项目基本信息                           │   │
│  │  项目名称: [________________________________]           │   │
│  │  项目类型: [技术研发类 ▼]                               │   │
│  │  申请人:   [张工程师 ▼] 部门: [环境学院 ▼]              │   │
│  │  联系方式: [手机________] 邮箱: [邮箱_____________]      │   │
│  │  预算金额: [¥ ____________] 周期: [__] 个月              │   │
│  │  项目描述: [________________________________]           │   │
│  │           [________________________________]           │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                📎 材料上传区域                           │   │
│  │  ┌─────────────────────────────────────────────────┐   │   │
│  │  │            📤 拖拽上传区域                       │   │   │
│  │  │         点击选择文件或拖拽到此处                  │   │   │
│  │  │      支持 PDF、DOC、DOCX、XLS、XLSX              │   │   │
│  │  │            最大文件大小: 10MB                    │   │   │
│  │  └─────────────────────────────────────────────────┘   │   │
│  │                                                         │   │
│  │  已上传文件:                                            │   │
│  │  📄 项目申请书.pdf (2.3MB) [✅] [🗑️]                   │   │
│  │  📄 技术方案.pdf (1.8MB) [✅] [🗑️]                     │   │
│  │                                                         │   │
│  │  📋 必需材料检查:                                       │   │
│  │  ✅ 项目申请书                                         │   │
│  │  ✅ 技术方案书                                         │   │
│  │  ⏳ 预算明细表                                         │   │
│  │  ❌ 团队成员简历                                       │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                🔧 操作按钮                               │   │
│  │           [💾 保存草稿] [📤 提交申请] [❌ 取消]           │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

## 📐 设计规格

### 🌈 色彩方案
- **页面背景**: `#f5f8ff` (淡蓝色)
- **卡片背景**: `#ffffff` (纯白)
- **边框颜色**: `#e8e8e8` (浅灰)
- **状态颜色**:
  - 待审核: `#faad14` (橙色)
  - 已通过: `#52c41a` (绿色)  
  - 未通过: `#ff4d4f` (红色)
- **主色调**: `#234fa2` (深蓝色)
- **辅助色**: `#1890ff` (蓝色)

### 📏 尺寸规格
- **卡片间距**: `16px`
- **按钮高度**: `32px`
- **表格行高**: `48px`
- **圆角**: `6px`
- **图标大小**: `16px`

### 📝 字体规格
- **页面标题**: 24px, font-weight: bold
- **卡片标题**: 18px, font-weight: 600
- **正文内容**: 14px
- **辅助信息**: 12px, color: #666

## ⚡ 交互逻辑

### 📋 页面初始化
```javascript
/**
 * 页面初始化逻辑
 */
const initPage = async () => {
  // 加载申请材料列表
  await loadMaterialsList();
  // 加载统计数据
  await loadStatistics();
  // 初始化筛选器
  initFilters();
};
```

### 🔍 搜索筛选功能
```javascript
/**
 * 搜索筛选逻辑
 */
const handleSearch = (keyword) => {
  const filtered = materialsList.value.filter(item => 
    item.projectName.includes(keyword) ||
    item.applicant.includes(keyword)
  );
  displayList.value = filtered;
};
```

### 📤 文件上传处理
```javascript
/**
 * 文件上传逻辑
 */
const handleFileUpload = async (files) => {
  for (const file of files) {
    // 验证文件类型和大小
    if (!validateFile(file)) continue;
    
    // 上传文件
    const result = await uploadFile(file);
    if (result.success) {
      fileList.value.push({
        name: file.name,
        size: file.size,
        url: result.url,
        status: 'success'
      });
    }
  }
  
  // 检查必需材料完整性
  checkRequiredMaterials();
};
```

### ✅ 审核操作
```javascript
/**
 * 审核通过/驳回逻辑
 */
const handleApproval = async (id, action, comment) => {
  const result = await updateApprovalStatus({
    id,
    status: action, // 'approved' or 'rejected'
    comment,
    reviewer: userInfo.value.name,
    reviewTime: new Date()
  });
  
  if (result.success) {
    // 更新列表状态
    updateMaterialStatus(id, action);
    // 发送通知
    await sendNotification(id, action);
  }
};
```

## 🚀 响应式设计

### 💻 桌面端 (1200px+)
- 完整的三栏布局显示
- 表格显示所有字段
- 支持批量操作

### 📱 平板端 (768px-1199px)  
- 紧凑的两栏布局
- 隐藏部分非关键字段
- 保持主要功能可用

### 📱 移动端 (768px以下)
- 单栏卡片式布局
- 折叠详细信息
- 优化触摸操作

## 🎯 用户体验亮点

### ⚡ 智能化功能
1. **自动检查**: 上传时自动检查必需材料完整性
2. **模板推荐**: 根据项目类型推荐申请模板
3. **进度提醒**: 自动提醒申请进度和待办事项

### 🔄 工作流集成
1. **状态同步**: 与立项流程实时同步状态
2. **消息通知**: 关键节点自动发送通知
3. **历史追踪**: 完整的操作历史记录

### 📊 数据分析
1. **统计面板**: 实时显示申请统计数据
2. **趋势分析**: 分析申请通过率趋势
3. **报表导出**: 支持多种格式的报表导出

## 🔧 技术实现要点

### 📁 文件管理
- 支持大文件分片上传
- 文件格式自动验证
- 云存储集成

### 🔐 权限控制
- 基于角色的访问控制
- 敏感信息脱敏显示
- 操作日志记录

### 📈 性能优化
- 列表虚拟滚动
- 图片懒加载
- 接口请求缓存

---

**📝 设计说明**: 申请材料管理页面注重材料的标准化管理和审核流程的规范化，通过直观的界面设计和智能化的功能，提升立项申请的效率和质量。 