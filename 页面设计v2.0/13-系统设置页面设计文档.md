# ⚙️ 系统设置页面设计文档 v2.0

## 📄 页面基础信息

- **页面名称**: 系统设置（System Settings）
- **路由地址**: `/settings`
- **组件路径**: `src/views/settings/index.vue`
- **设计版本**: v2.0
- **更新时间**: 2025-01-17
- **实现状态**: 📋 设计阶段

## 🔄 v2.0版本设计说明

### 🎯 核心功能定位
系统设置页面是用户个性化配置和系统管理的统一入口，包含个人信息管理、偏好设置、组织架构管理、安全配置等功能。

## 🎨 UI布局草图

### 页面整体布局

```
┌─────────────────────────────────────────────────────────────────┐
│                    ⚙️ 系统设置                                   │
│                 (背景 #f5f8ff, 左右布局)                        │
│                                                                 │
│  ┌─────────────┐  ┌─────────────────────────────────────────┐   │
│  │  📋 设置菜单 │  │            📝 设置内容区域              │   │
│  │             │  │                                         │   │
│  │ 🧑 个人信息  │  │  ┌─────────────────────────────────┐   │   │
│  │ 🔔 消息通知  │  │  │        🧑 个人信息设置           │   │   │
│  │ 🎨 界面设置  │  │  │                                 │   │   │
│  │ 🔐 安全设置  │  │  │  头像: [📷 上传]                │   │   │
│  │ 🏢 组织管理  │  │  │  姓名: [张工程师____]           │   │   │
│  │ 👥 用户管理  │  │  │  邮箱: [zhang@hust.edu.cn___]   │   │   │
│  │ 🛡️ 权限设置  │  │  │  手机: [138****8888_______]     │   │   │
│  │ 🔄 系统配置  │  │  │  部门: [研发部______________]   │   │   │
│  │ 📊 日志审计  │  │  │  职位: [高级工程师__________]   │   │   │
│  │             │  │  │                                 │   │   │
│  │             │  │  │         [保存] [重置]           │   │   │
│  │             │  │  └─────────────────────────────────┘   │   │
│  └─────────────┘  └─────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 消息通知设置界面

```
┌─────────────────────────────────────────────────────────────────┐
│                     🔔 消息通知设置                               │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │               📧 邮件通知设置                           │   │
│  │  ☑️ 项目状态变更通知                                    │   │
│  │  ☑️ 任务到期提醒                                        │   │
│  │  ☑️ 审批流程通知                                        │   │
│  │  ☐ 系统维护公告                                        │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │               📱 短信通知设置                           │   │
│  │  ☑️ 紧急事项通知                                        │   │
│  │  ☐ 日常任务提醒                                        │   │
│  │  ☑️ 安全登录验证                                        │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │               🔔 推送时间设置                           │   │
│  │  工作时间: [09:00] 至 [18:00]                          │   │
│  │  推送频率: [立即推送▼]                                  │   │
│  │  免打扰时间: [22:00] 至 [08:00]                        │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 界面设置界面

```
┌─────────────────────────────────────────────────────────────────┐
│                     🎨 界面设置                                  │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │               🌈 主题设置                               │   │
│  │  ○ 明亮主题    ● 科技蓝     ○ 深色主题                │   │
│  │  [预览效果图]                                           │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │               📐 布局设置                               │   │
│  │  侧边栏: ☑️ 固定 ☐ 可收缩                              │   │
│  │  导航: ☑️ 顶部 ☐ 左侧                                  │   │
│  │  字体大小: [中等▼]                                      │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │               🚀 性能设置                               │   │
│  │  动画效果: ☑️ 开启                                      │   │
│  │  图表渲染: ☑️ 硬件加速                                 │   │
│  │  自动保存: [30秒▼]                                      │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 安全设置界面

```
┌─────────────────────────────────────────────────────────────────┐
│                     🔐 安全设置                                  │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │               🔑 密码管理                               │   │
│  │  当前密码: [****************]                          │   │
│  │  新密码:   [****************]                          │   │
│  │  确认密码: [****************]                          │   │
│  │  密码强度: ●●●○○ 中等                                  │   │
│  │                                    [修改密码]          │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │               📱 双因子认证                             │   │
│  │  短信验证: ☑️ 已开启  [配置]                           │   │
│  │  邮箱验证: ☐ 未开启  [开启]                            │   │
│  │  谷歌验证: ☐ 未开启  [配置]                            │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │               🖥️ 登录设备管理                           │   │
│  │  设备1: Windows PC  (当前)         [信任] [登出]        │   │
│  │  设备2: iPhone 12   (7天前)        [信任] [登出]        │   │
│  │  设备3: 未知设备    (14天前)       [拒绝] [登出]        │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

## 📐 设计规格

### 🌈 色彩方案
- **页面背景**: `#f5f8ff` (淡蓝色)
- **侧边栏背景**: `#ffffff` (纯白)
- **内容区背景**: `#ffffff` (纯白)
- **激活菜单**: `#234fa2` (深蓝色)
- **边框颜色**: `#e8e8e8` (浅灰)

### 📏 尺寸规格
- **侧边栏宽度**: `200px`
- **内容区内边距**: `24px`
- **卡片圆角**: `12px`
- **表单项间距**: `16px`
- **按钮高度**: `36px`

### 📝 字体规格
- **页面标题**: 24px, font-weight: bold
- **节标题**: 18px, font-weight: 600
- **表单标签**: 14px
- **输入文字**: 14px
- **辅助文字**: 12px

## ⚡ 交互逻辑

### 🔄 页面初始化逻辑

1. **用户信息加载**
   ```javascript
   /**
    * 页面挂载时加载用户信息
    */
   async function loadUserInfo() {
     const userInfo = await fetchUserInfo();
     personalForm.value = userInfo;
   }
   ```

2. **权限检查**
   ```javascript
   /**
    * 检查用户管理权限
    */
   function checkPermissions() {
     const permissions = store.getters.userPermissions;
     showUserManagement.value = permissions.includes('user_management');
     showSystemConfig.value = permissions.includes('system_config');
   }
   ```

### 🎯 核心交互功能

1. **个人信息更新**
   ```javascript
   /**
    * 更新个人信息
    */
   async function updatePersonalInfo() {
     try {
       await updateUserInfo(personalForm.value);
       message.success('个人信息已更新');
     } catch (error) {
       message.error('更新失败：' + error.message);
     }
   }
   ```

2. **密码修改**
   ```javascript
   /**
    * 修改密码
    */
   async function changePassword() {
     const { oldPassword, newPassword } = passwordForm.value;
     await updatePassword(oldPassword, newPassword);
     message.success('密码修改成功');
     passwordForm.value = {};
   }
   ```

## 🌐 页面间跳转

### 📍 主要跳转路径
- 用户管理详情: `/settings` → `/settings/users/:id`
- 权限配置: `/settings` → `/settings/permissions`
- 系统日志: `/settings` → `/settings/logs`

## 🛠️ 技术实现

### 🔧 核心技术栈
- **UI组件**: Ant Design Vue (Form, Upload, Switch, Select)
- **表单验证**: Ant Design Vue Validator
- **状态管理**: Pinia (用户信息状态)
- **文件上传**: 头像上传组件

### 📦 关键组件设计

1. **SettingsMenu 设置菜单组件**
   ```vue
   <template>
     <div class="settings-menu">
       <MenuItem
         v-for="item in menuItems"
         :key="item.key"
         :active="activeKey === item.key"
         @click="setActiveKey(item.key)"
       >
         {{ item.title }}
       </MenuItem>
     </div>
   </template>
   ```

## 🌟 用户体验亮点

### ✨ 设计特色
1. **清晰的分类导航** - 左右布局，功能分类明确
2. **即时的效果预览** - 主题、布局设置实时预览
3. **智能的安全提醒** - 密码强度、设备异常提醒

### 🚀 功能亮点
1. **个性化配置** - 主题、布局、通知全面可定制
2. **全方位安全管控** - 密码、双因子、设备管理
3. **便捷的管理工具** - 用户、权限、系统统一管理

---

**📝 设计说明**: 系统设置页面为用户提供完整的个性化配置和管理功能，通过分类清晰的导航和直观的操作界面，让用户轻松定制系统体验。 