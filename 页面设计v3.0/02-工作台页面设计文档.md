# 🏠 工作台页面设计文档 v2.0

## 📄 页面基础信息

- **页面名称**: 工作台（Dashboard）
- **路由地址**: `/dashboard`
- **组件路径**: `src/views/dashboard/index.vue`
- **设计版本**: v2.0
- **更新时间**: 2025-01-17
- **实现状态**: ✅ 已完成

## 🔄 v2.0版本变更说明

### ✂️ 简化的统计指标
**删除的统计项**:
- ~~实地调研任务统计~~
- ~~座谈会安排提醒~~
- ~~询价进度追踪~~

### 🎯 优化的跳转路径
**删除的跳转链接**:
- ~~实地调研页面跳转~~
- ~~座谈会页面跳转~~
- ~~询价管理页面跳转~~

## 🎨 UI布局草图

### 实际实现的页面结构

```
┌─────────────────────────────────────────────────────────────────┐
│                    🏠 工作台页面容器                              │
│                 (背景 #f5f8ff, 全屏高度)                        │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │           📊 StatScheme2 顶部统计圆环组件                 │   │
│  │  ┌──────┐  ┌──────┐  ┌──────┐  ┌──────┐  ┌──────┐      │   │
│  │  │ 项目 │  │ 进行 │  │ 已完 │  │ 逾期 │  │ 预算 │      │   │
│  │  │ 总数 │  │ 中项 │  │ 成项 │  │ 项目 │  │ 使用 │      │   │
│  │  │ 128  │  │ 目45 │  │ 目67 │  │  8   │  │ 75%  │      │   │
│  │  │  🎯  │  │  ✅  │  │  ✅  │  │  ⚠️  │  │  💰  │      │   │
│  │  └──────┘  └──────┘  └──────┘  └──────┘  └──────┘      │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              ⚠️ 逾期任务横幅 (闪烁动画)                    │   │
│  │  逾期任务：📋项目A文档提交  📋项目B经费审批                   │   │
│  │           （请尽快处理，横幅持续闪烁）                      │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │               📋 主要内容区域 (flex布局)                   │   │
│  │  ┌─────────────────────┐  ┌─────────────────────────┐    │   │
│  │  │    📝 左侧区域       │  │     ⚠️ 右侧预警区域      │    │   │
│  │  │    (flex: 2)        │  │      (flex: 1)         │    │   │
│  │  │                     │  │                         │    │   │
│  │  │  ┌───待办事项───┐   │  │  ┌─────项目预警─────┐  │    │   │
│  │  │  │🔴 项目A立项审批   │   │  │  🔴 项目A进度滞后  │  │    │   │
│  │  │  │   09:00    [处理]│   │  │              [详情]│  │    │   │
│  │  │  │🔵 项目B合同签署   │   │  │  🟡 项目B预算超支  │  │    │   │
│  │  │  │   10:30    [处理]│   │  │              [详情]│  │    │   │
│  │  │  │🔵 项目C进度汇报   │   │  │  🟢 项目C节点临近  │  │    │   │
│  │  │  │   14:00    [处理]│   │  │              [详情]│  │    │   │
│  │  │  │🔴 项目D风险评估   │   │  │                   │  │    │   │
│  │  │  │   16:00    [处理]│   │  │                   │  │    │   │
│  │  │  └─────────────────┘   │  └─────────────────────┘  │    │   │
│  │  │                     │  │                         │    │   │
│  │  │  ┌─────────────────┐   │  │                         │    │   │
│  │  │  │ CalendarScheme3 │   │  │                         │    │   │
│  │  │  │   日历组件       │   │  │                         │    │   │
│  │  │  │   (全宽显示)     │   │  │                         │    │   │
│  │  │  └─────────────────┘   │  │                         │    │   │
│  │  └─────────────────────┘  └─────────────────────────┘    │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 待办事项列表详细设计

```
┌─────────────────────────────────────────┐
│              📝 待办事项                 │
├─────────────────────────────────────────┤
│  🔴 ● 项目A立项审批        09:00  [处理]  │
│  🔵 ● 项目B合同签署        10:30  [处理]  │
│  🔵 ● 项目C进度汇报        14:00  [处理]  │
│  🔴 ● 项目D风险评估        16:00  [处理]  │
│                                         │
│  ● 红色圆点 = urgent: true (紧急)        │
│  ● 蓝色圆点 = urgent: false (普通)       │
│  ● 时间显示灰色，按钮为链接样式          │
└─────────────────────────────────────────┘
```

### 项目预警卡片详细设计

```
┌─────────────────────────────────────────┐
│              ⚠️ 项目预警                 │
├─────────────────────────────────────────┤
│  🔴 ● 项目A进度滞后             [详情]   │
│  🟡 ● 项目B预算超支             [详情]   │
│  🟢 ● 项目C节点临近             [详情]   │
│                                         │
│  ● level: 'red' → 红色徽章               │
│  ● level: 'yellow' → 黄色徽章            │
│  ● level: 'green' → 绿色徽章             │
│  ● 右侧高度自动匹配左侧区域              │
└─────────────────────────────────────────┘
```

### 逾期任务横幅设计

```
┌─────────────────────────────────────────┐
│           ⚠️ 逾期任务横幅 (动画)          │
│  背景: #fffbe6, 边框圆角: 8px             │
│  逾期任务：📋项目A文档提交  📋项目B经费审批  │
│           （请尽快处理，横幅持续闪烁）      │
│                                         │
│  @keyframes banner-blink:               │
│  0% { box-shadow: 0 0 0 0 #faad14; }    │
│  100% { box-shadow: 0 0 8px 2px #faad14; } │
└─────────────────────────────────────────┘
```

## 📐 设计规格

### 🌈 色彩方案
- **页面背景**: `#f5f8ff` (淡蓝色)
- **逾期横幅背景**: `#fffbe6` (淡黄色)
- **逾期横幅文字**: `#faad14` (橙色)
- **卡片背景**: `#ffffff` (纯白)
- **卡片阴影**: `0 4px 24px rgba(35,79,162,0.08)`
- **紧急任务颜色**: `#ff4d4f` (红色)
- **普通任务颜色**: `#1890ff` (蓝色)
- **时间文字颜色**: `#999` (灰色)

### 📏 尺寸规格
- **页面内边距**: `32px 0`
- **卡片圆角**: `16px`
- **横幅圆角**: `8px`
- **卡片间距**: `24px`
- **左右区域间距**: `24px`
- **左右区域比例**: flex: 2 : 1
- **列表项内边距**: `8px 0`

### 📝 字体规格
- **页面标题**: 24px, font-weight: 600
- **横幅文字**: 15px, 加粗标签
- **横幅提示**: 13px
- **待办事项**: 15px
- **预警项目**: 15px
- **按钮文字**: small size

## ⚡ 交互逻辑

### 🔄 页面加载逻辑

1. **组件初始化**
   - 挂载StatScheme2统计组件
   - 挂载CalendarScheme3日历组件
   - 初始化待办事项和预警数据

2. **响应式布局**
   - syncWarningCardHeight()函数
   - 监听窗口resize事件
   - 右侧卡片高度自动匹配左侧

3. **数据驱动显示**
   - overdueTasks.length控制横幅显示
   - 动态渲染待办事项列表
   - 动态渲染项目预警列表

### 🎨 视觉交互效果

1. **逾期横幅闪烁**
   ```css
   @keyframes banner-blink {
     0% { box-shadow: 0 0 0 0 #faad14; }
     100% { box-shadow: 0 0 8px 2px #faad14; }
   }
   animation: banner-blink 1s infinite alternate;
   ```

2. **卡片悬停效果**
   ```css
   .dashboard-todo-card:hover,
   .dashboard-warning-card:hover {
     transform: translateY(-2px);
     box-shadow: 0 6px 16px rgba(0,0,0,0.15);
   }
   ```

3. **任务优先级标识**
   - urgent: true → 红色圆点 + 加粗文字
   - urgent: false → 蓝色圆点 + 普通文字

### 🚀 页面跳转逻辑

1. **待办事项处理**
   - 点击"处理"按钮跳转对应业务页面
   - 根据任务类型智能跳转

2. **预警详情查看**
   - 点击"详情"按钮查看项目详情
   - 传递项目ID参数

3. **日历事件交互**
   - onCalendarSelect(date)处理日期选择
   - 支持双击新建任务/会议

### 📊 数据结构设计

1. **逾期任务数据**
   ```javascript
   const overdueTasks = [
     { id: 1, name: '项目A文档提交' },
     { id: 2, name: '项目B经费审批' }
   ]
   ```

2. **待办事项数据**
   ```javascript
   const todoList = [
     { id: 1, title: '项目A立项审批', time: '09:00', urgent: true },
     { id: 2, title: '项目B合同签署', time: '10:30', urgent: false }
   ]
   ```

3. **项目预警数据**
   ```javascript
   const warningList = [
     { id: 1, title: '项目A进度滞后', level: 'red' },
     { id: 2, title: '项目B预算超支', level: 'yellow' }
   ]
   ```

## 📱 响应式设计

### 💻 桌面端适配 (≥1200px)
- 两栏布局正常显示 (2:1比例)
- 统计卡片横向排列
- 日历组件最大宽度1000px

### 📱 平板端适配 (768px-1199px)
- 保持两栏布局但间距缩小
- 统计卡片可能换行显示
- 日历组件最小宽度600px

### 📱 手机端适配 (≤767px)
- 两栏布局改为单栏堆叠
- 统计卡片单列显示
- 日历组件自适应宽度

## 🛠️ 技术实现

### 🎯 核心组件依赖
```javascript
// 主要依赖组件
import CalendarScheme3 from '@/views/设计方案/工作台方案/日历方案3.vue'
import StatScheme2 from '@/views/设计方案/顶部统计圆环方案/方案2.vue'

// Vue 3 Composition API
import { ref, onMounted, onBeforeUnmount, nextTick } from 'vue'
import dayjs from 'dayjs'
```

### 🎨 CSS样式特性
- 使用Flexbox进行布局
- CSS3动画实现闪烁效果
- Scoped CSS避免样式污染
- 渐变背景增强视觉效果

### ⚡ 性能优化
- nextTick确保DOM渲染完成
- 事件监听器及时清理
- 组件懒加载和按需引入

## 🌟 用户体验亮点

### 🎯 视觉亮点
1. **层次清晰**: 顶部统计 → 预警横幅 → 主要内容区域
2. **色彩丰富**: 多种状态颜色区分，视觉识别度高
3. **动效自然**: 闪烁动画吸引注意力，不过度干扰
4. **布局合理**: 2:1比例布局，重点突出待办事项

### 🚀 交互亮点
1. **即时反馈**: 按钮悬停效果和状态变化
2. **智能适配**: 右侧区域高度自动匹配左侧
3. **状态明确**: 紧急程度用颜色直观表示
4. **操作便捷**: 一键处理和查看详情

### 💡 功能亮点
1. **实时预警**: 逾期任务横幅闪烁提醒
2. **数据联动**: 统计数据与业务页面联动
3. **日历集成**: 工作安排和日程管理集成
4. **响应式布局**: 多端适配良好

## 🔄 待优化项

### 🎯 功能优化
- [ ] 增加待办事项拖拽排序功能
- [ ] 实现预警消息的推送通知
- [ ] 日历组件集成更多事件类型
- [ ] 统计数据的实时刷新机制

### 🎨 视觉优化
- [ ] 增加暗色主题支持
- [ ] 优化移动端的布局适配
- [ ] 增加更多的微交互动效
- [ ] 统计卡片的数据可视化增强

### ⚡ 性能优化
- [ ] 实现虚拟滚动优化长列表
- [ ] 增加数据缓存机制
- [ ] 组件懒加载进一步优化
- [ ] 图片和资源的CDN优化

---

**📝 备注**: 此工作台页面作为系统的核心入口，已经实现了完整的统计展示、任务管理和预警提醒功能，为用户提供了高效的工作管理中心。v2.0版本通过简化非核心业务模块，使界面更加清爽和聚焦。 