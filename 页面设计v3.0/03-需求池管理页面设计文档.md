# 📋 需求池管理页面设计文档 v2.0

## 📄 页面基础信息

- **页面名称**: 需求池管理（Requirements Management）
- **路由地址**: `/research/requirements`
- **组件路径**: `src/views/research/requirements/index.vue`
- **设计版本**: v2.0
- **更新时间**: 2025-01-17
- **实现状态**: ✅ 已完成

## 🎯 功能概述

需求池管理页面是项目调研的起点，负责收集、管理和评估各类研发需求。系统支持需求的全生命周期管理，包括需求录入、状态跟踪、优先级管理和转化为正式项目。

## 🎨 UI布局草图

### 整体页面结构

```
┌─────────────────────────────────────────────────────────────────┐
│                    📋 需求池管理页面                             │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                📋 页面头部区域                           │   │
│  │  📋 需求池管理  项目调研的起点，收集和管理各类研发需求    │   │
│  │  [新增需求] [导出需求]                                   │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                🔍 筛选和统计区域                         │   │
│  │  [需求状态▼] [优先级▼] [需求分类▼] [搜索框...]  需求总数:XX │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                📊 需求状态看板区域                       │   │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐        │   │
│  │  │ 待分析   │ │ 进行中   │ │ 已完成   │ │ 已暂停   │        │   │
│  │  │   5个    │ │   8个    │ │  12个   │ │   2个    │        │   │
│  │  │         │ │         │ │         │ │         │        │   │
│  │  │ ┌─────┐ │ │ ┌─────┐ │ │ ┌─────┐ │ │ ┌─────┐ │        │   │
│  │  │ │需求A │ │ │ │需求B │ │ │ │需求C │ │ │ │需求D │ │        │   │
│  │  │ │高优先│ │ │ │中优先│ │ │ │已完成│ │ │ │已暂停│ │        │   │
│  │  │ │技术创│ │ │ │工艺改│ │ │ │设备更│ │ │ │质量提│ │        │   │
│  │  │ │新   │ │ │ │进   │ │ │ │新   │ │ │ │升   │ │        │   │
│  │  │ └─────┘ │ │ └─────┘ │ │ └─────┘ │ │ └─────┘ │        │   │
│  │  │ ┌─────┐ │ │ ┌─────┐ │ │ ┌─────┐ │ │         │        │   │
│  │  │ │需求E │ │ │ │需求F │ │ │ │需求G │ │ │         │        │   │
│  │  │ │低优先│ │ │ │高优先│ │ │ │中优先│ │ │         │        │   │
│  │  │ └─────┘ │ │ └─────┘ │ │ └─────┘ │ │         │        │   │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘        │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                📋 需求详情表格区域                       │   │
│  │  ┌─────────────────────────────────────────────────────┐ │   │
│  │  │需求名称 │优先级│状态│分类│创建时间│负责人│操作     │ │   │
│  │  ├─────────────────────────────────────────────────────┤ │   │
│  │  │AI水质监│ 高  │进行│技术│2024-01-│张三 │编辑 开始│ │   │
│  │  │测系统  │     │中  │创新│15     │    │    调研 │ │   │
│  │  ├─────────────────────────────────────────────────────┤ │   │
│  │  │智能灌溉│ 中  │待分│工艺│2024-01-│李四 │编辑 开始│ │   │
│  │  │控制    │     │析  │改进│20     │    │    调研 │ │   │
│  │  └─────────────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 需求卡片详细设计

```
┌─────────────────────────────────────────┐
│              📋 需求卡片组件             │
├─────────────────────────────────────────┤
│  AI智能水质监测系统                      │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━               │
│                                         │
│  📌 高优先级  🔄 进行中                  │
│  🏷️ 技术创新  👤 张三                    │
│  📅 2024-01-15                          │
│                                         │
│  💡 需求描述：                           │
│  开发基于AI算法的智能水质监测系统，       │
│  实现实时水质分析和预警功能...           │
│                                         │
│  ┌─────────────────────────────────────┐ │
│  │ [编辑] [删除] [状态变更] [优先级变更] │ │
│  └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

### 筛选和搜索区域详细设计

```
┌─────────────────────────────────────────────────────────────────┐
│                    🔍 筛选和统计区域                             │
├─────────────────────────────────────────────────────────────────┤
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────────┐   │
│  │需求状态  ▼│ │优先级   ▼│ │需求分类  ▼│ │搜索需求标题...   │   │
│  │全部状态   │ │全部      │ │全部分类   │ │                 │   │
│  │待分析     │ │高        │ │技术创新   │ └──────────────────┘   │
│  │进行中     │ │中        │ │工艺改进   │                      │
│  │已完成     │ │低        │ │设备更新   │    ┌──────────────┐    │
│  │已暂停     │ └──────────┘ │质量提升   │    │   需求总数    │    │
│  └──────────┘              │成本控制   │    │      27      │    │
│                            └──────────┘    └──────────────┘    │
└─────────────────────────────────────────────────────────────────┘
```

## 📐 设计规格

### 🌈 色彩方案
- **页面背景**: `#f5f7fa` (浅灰蓝色)
- **卡片背景**: `#ffffff` (纯白)
- **卡片阴影**: `0 2px 8px rgba(0,0,0,0.1)`

#### 优先级颜色标识
- **高优先级**: `#ff4d4f` (红色) - Badge显示
- **中优先级**: `#faad14` (橙色) - Badge显示  
- **低优先级**: `#52c41a` (绿色) - Badge显示

#### 状态颜色标识
- **待分析**: `#1890ff` (蓝色)
- **进行中**: `#faad14` (橙色)
- **已完成**: `#52c41a` (绿色)
- **已暂停**: `#d9d9d9` (灰色)

#### 分类颜色标识
- **技术创新**: `#722ed1` (紫色)
- **工艺改进**: `#13c2c2` (青色)
- **设备更新**: `#eb2f96` (品红)
- **质量提升**: `#52c41a` (绿色)
- **成本控制**: `#faad14` (橙色)

### 📏 尺寸规格
- **页面内边距**: 24px
- **卡片圆角**: 8px
- **卡片间距**: 16px
- **看板列间距**: 16px
- **需求卡片最小高度**: 180px
- **筛选区域高度**: 80px

### 📝 字体规格
- **页面标题**: 24px, font-weight: 600, 带图标
- **页面描述**: 14px, color: #8c8c8c
- **需求标题**: 16px, font-weight: 500
- **需求描述**: 14px, line-height: 1.5
- **标签文字**: 12px
- **按钮文字**: 14px

## ⚡ 交互逻辑

### 🔄 页面加载流程

1. **数据初始化**
   ```javascript
   // 需求列表数据结构
   const requirements = ref([
     {
       id: 1,
       title: 'AI智能水质监测系统',
       description: '开发基于AI算法的智能水质监测系统...',
       priority: '高',
       status: '进行中',
       category: '技术创新',
       creator: '张三',
       createTime: '2024-01-15',
       manager: '张三'
     }
   ])
   ```

2. **筛选条件初始化**
   ```javascript
   const filterStatus = ref('')
   const filterPriority = ref('')
   const filterCategory = ref('')
   const searchKeyword = ref('')
   ```

3. **状态看板初始化**
   ```javascript
   const statusOptions = [
     { value: '待分析', label: '待分析', color: '#1890ff' },
     { value: '进行中', label: '进行中', color: '#faad14' },
     { value: '已完成', label: '已完成', color: '#52c41a' },
     { value: '已暂停', label: '已暂停', color: '#d9d9d9' }
   ]
   ```

### 🎨 视觉交互效果

1. **需求卡片交互**
   ```css
   .requirement-card:hover {
     transform: translateY(-2px);
     box-shadow: 0 4px 12px rgba(0,0,0,0.15);
     transition: all 0.3s ease;
   }
   ```

2. **状态看板交互**
   - 卡片拖拽移动更改状态
   - 状态列高亮显示
   - 卡片数量徽章动态更新

3. **筛选条件交互**
   - 实时筛选不需要提交
   - 清除筛选条件功能
   - 搜索关键词高亮显示

### 🚀 功能操作流程

1. **新增需求**
   ```javascript
   const showAddModal = ref(false)
   const currentRequirement = ref(null)
   
   const showAddDialog = () => {
     currentRequirement.value = null
     showAddModal.value = true
   }
   ```

2. **编辑需求**
   ```javascript
   const editRequirement = (requirement) => {
     currentRequirement.value = { ...requirement }
     showAddModal.value = true
   }
   ```

3. **状态变更**
   ```javascript
   const updateRequirementStatus = (requirement, newStatus) => {
     requirement.status = newStatus
     message.success(`需求状态已更新为：${newStatus}`)
   }
   ```

4. **开始调研**
   ```javascript
   const startResearch = (requirement) => {
     router.push(`/research/records?requirementId=${requirement.id}`)
   }
   ```

### 📊 数据筛选逻辑

1. **筛选条件组合**
   ```javascript
   const filteredRequirements = computed(() => {
     let result = requirements.value
     
     // 状态筛选
     if (filterStatus.value) {
       result = result.filter(item => item.status === filterStatus.value)
     }
     
     // 优先级筛选
     if (filterPriority.value) {
       result = result.filter(item => item.priority === filterPriority.value)
     }
     
     // 分类筛选
     if (filterCategory.value) {
       result = result.filter(item => item.category === filterCategory.value)
     }
     
     // 关键词搜索
     if (searchKeyword.value) {
       const keyword = searchKeyword.value.toLowerCase()
       result = result.filter(item => 
         item.title.toLowerCase().includes(keyword) ||
         item.description.toLowerCase().includes(keyword)
       )
     }
     
     return result
   })
   ```

2. **看板分组逻辑**
   ```javascript
   const getRequirementsByStatus = (status) => {
     return filteredRequirements.value.filter(req => req.status === status)
   }
   
   const getStatusCount = (status) => {
     return getRequirementsByStatus(status).length
   }
   ```

## 📋 组件设计

### RequirementCard 组件

```javascript
/**
 * 需求卡片组件
 * @param {Object} requirement - 需求数据对象
 * @param {Function} onEdit - 编辑回调
 * @param {Function} onDelete - 删除回调
 * @param {Function} onStatusChange - 状态变更回调
 * @param {Function} onPriorityChange - 优先级变更回调
 */
const RequirementCard = {
  props: ['requirement'],
  emits: ['edit', 'delete', 'status-change', 'priority-change'],
  
  setup(props, { emit }) {
    const getPriorityColor = (priority) => {
      const colors = {
        '高': '#ff4d4f',
        '中': '#faad14', 
        '低': '#52c41a'
      }
      return colors[priority] || '#d9d9d9'
    }
    
    const getStatusColor = (status) => {
      const colors = {
        '待分析': '#1890ff',
        '进行中': '#faad14',
        '已完成': '#52c41a',
        '已暂停': '#d9d9d9'
      }
      return colors[status] || '#d9d9d9'
    }
    
    return {
      getPriorityColor,
      getStatusColor
    }
  }
}
```

### RequirementModal 组件

```javascript
/**
 * 需求编辑弹窗组件
 * @param {Boolean} visible - 弹窗显示状态
 * @param {Object} requirement - 编辑的需求对象（新增时为null）
 * @param {Function} onSave - 保存回调
 */
const RequirementModal = {
  props: ['visible', 'requirement'],
  emits: ['save', 'update:visible'],
  
  setup(props, { emit }) {
    const formData = reactive({
      title: '',
      description: '',
      priority: '中',
      category: '技术创新',
      expectedBudget: '',
      expectedDuration: '',
      businessValue: '',
      technicalDifficulty: '中'
    })
    
    const rules = {
      title: [{ required: true, message: '请输入需求标题' }],
      description: [{ required: true, message: '请输入需求描述' }],
      category: [{ required: true, message: '请选择需求分类' }]
    }
    
    return {
      formData,
      rules
    }
  }
}
```

### RequirementDetail 组件

```javascript
/**
 * 需求详情抽屉组件
 * @param {Object} requirement - 需求详情数据
 * @param {Function} onEdit - 编辑回调
 * @param {Function} onStartResearch - 开始调研回调
 */
const RequirementDetail = {
  props: ['requirement'],
  emits: ['edit', 'start-research'],
  
  setup(props, { emit }) {
    const detailTabs = [
      { key: 'basic', label: '基本信息' },
      { key: 'business', label: '业务价值' },
      { key: 'technical', label: '技术分析' },
      { key: 'timeline', label: '时间轴' }
    ]
    
    return {
      detailTabs
    }
  }
}
```

## 📱 响应式设计

### 💻 桌面端适配 (≥1200px)
- 看板四列横向布局
- 筛选区域完整显示
- 表格全宽显示所有列
- 需求卡片3-4个一行

### 📱 平板端适配 (768px-1199px)
- 看板保持四列但间距缩小
- 筛选条件可能换行显示
- 表格支持横向滚动
- 需求卡片2-3个一行

### 📱 手机端适配 (≤767px)
- 看板改为单列上下滚动
- 筛选条件改为抽屉式弹出
- 表格简化为卡片式显示
- 需求卡片单列显示

## 🛠️ 技术实现

### 🎯 核心技术栈
```javascript
// Vue 3 + Composition API
import { ref, reactive, computed, onMounted } from 'vue'

// 路由管理
import { useRouter } from 'vue-router'

// Ant Design Vue组件
import { message, Empty } from 'ant-design-vue'
import {
  FileTextOutlined,
  PlusOutlined,
  DownloadOutlined,
  DownOutlined
} from '@ant-design/icons-vue'

// 子组件
import RequirementCard from '@/components/research/RequirementCard.vue'
import RequirementModal from '@/components/research/RequirementModal.vue'
import RequirementDetail from '@/components/research/RequirementDetail.vue'
```

### 🔄 状态管理
```javascript
// 使用Composition API进行状态管理
export default {
  name: 'RequirementsManagement',
  setup() {
    // 响应式数据
    const requirements = ref([])
    const showAddModal = ref(false)
    const showDetailDrawer = ref(false)
    const currentRequirement = ref(null)
    const selectedRequirement = ref(null)
    
    // 筛选条件
    const filters = reactive({
      status: '',
      priority: '',
      category: '',
      keyword: ''
    })
    
    // 计算属性
    const filteredRequirements = computed(() => {
      // 筛选逻辑实现
    })
    
    return {
      requirements,
      showAddModal,
      showDetailDrawer,
      currentRequirement,
      selectedRequirement,
      filters,
      filteredRequirements
    }
  }
}
```

### ⚡ 性能优化策略
- 虚拟滚动处理大量需求数据
- 防抖搜索避免频繁查询
- 懒加载需求详情数据
- 组件级别的缓存机制

## 🌟 用户体验亮点

### 🎯 视觉设计亮点
1. **看板式布局**: 直观展示需求在不同状态下的分布
2. **色彩编码**: 通过颜色快速识别优先级和状态
3. **卡片化设计**: 信息层次清晰，便于浏览
4. **响应式适配**: 多端设备良好的使用体验

### 🚀 交互体验亮点
1. **拖拽操作**: 需求卡片可拖拽更改状态
2. **实时筛选**: 筛选条件变更即时生效
3. **批量操作**: 支持批量状态变更和导出
4. **快速操作**: 悬停显示操作按钮

### 💡 功能特性亮点
1. **全生命周期管理**: 从需求收集到项目转化
2. **多维度筛选**: 状态、优先级、分类、关键词
3. **详细信息展示**: 抽屉式详情页面
4. **业务流程集成**: 与调研记录无缝对接

## 🔄 待优化项

### 🎯 功能扩展
- [ ] 需求评估打分系统
- [ ] 需求依赖关系管理
- [ ] 需求变更历史追踪
- [ ] 需求关联项目展示

### 🎨 视觉优化
- [ ] 增加需求时间轴视图
- [ ] 优化移动端卡片布局
- [ ] 增加需求统计图表
- [ ] 支持自定义主题色彩

### ⚡ 性能提升
- [ ] 实现无限滚动加载
- [ ] 优化大数据量渲染
- [ ] 增加离线缓存功能
- [ ] 提升搜索响应速度

### 📊 数据分析增强
- [ ] 需求来源分析
- [ ] 需求处理效率统计
- [ ] 需求转化率分析
- [ ] 部门需求分布统计

---

**📝 备注**: 此需求池管理页面作为项目调研的起点，提供了完整的需求收集、管理和评估功能。页面设计注重操作的便捷性和信息的直观展示，为后续的调研记录和项目立项提供了坚实的基础。v2.0版本通过简化业务流程，使需求管理更加高效。 