# 🎯 项目验收管理页面设计文档 v4.0

## 📄 页面基础信息

### 🎯 页面定位
- **页面名称**: 项目验收管理页面
- **页面路径**: `/acceptance`
- **菜单位置**: 项目管理 > 项目验收
- **页面类型**: 角色分离的流程管理系统
- **设计版本**: v4.0
- **更新时间**: 2025-01-22
- **主要变更**: 实现申报单位和管理角色的功能分离，构建完整的验收申请-审核-组织-结论流程

### 📊 功能概述
项目验收管理页面采用角色分离设计，分别为申报单位和管理角色提供专业化的功能界面。申报单位负责提交验收申请和上传材料，管理角色负责审核材料、组织会议和管理验收流程，确保验收流程的规范化和高效化。

**核心价值**:
- 🎭 角色分离明确，各司其职
- 🔄 流程闭环完整，全程追踪
- 📚 历史记录完善，档案管理
- 💡 操作体验优化，专业界面

## 🎭 角色权限设计

### 申报单位角色（项目负责人）
- **核心职责**：提交验收申请，上传验收材料，查看验收进度
- **操作权限**：
  - 查看绑定项目列表
  - 提交验收申请
  - 上传验收材料
  - 查看验收进度状态
  - 查看验收结论
- **访问范围**：仅能查看和操作自己负责的项目验收申请

### 管理角色（验收管理员）  
- **核心职责**：审核材料，组织会议，管理验收流程
- **操作权限**：
  - 查看所有验收申请
  - 查看项目完整历史（开题、中期、验收）
  - 审核验收材料
  - 组织验收会议
  - 上传验收会议结论
  - 管理验收流程状态
- **访问范围**：可查看所有验收申请，具备审核和组织权限

---

## 🏗️ 系统架构设计

### 菜单结构重组

```
科研管理系统
├── 项目调研
├── 项目立项  
├── 项目实施
├── 项目验收
│   ├── 【申报单位角色】
│   │   ├── 验收申请管理        # /acceptance/application/manage
│   │   ├── 提交验收申请        # /acceptance/application/submit
│   │   └── 验收进度查询        # /acceptance/progress/query
│   └── 【管理角色】
│       ├── 验收管理中心        # /acceptance/management/center
│       ├── 项目历史档案        # /acceptance/project/archive
│       ├── 材料审核管理        # /acceptance/material/review
│       └── 会议结论管理        # /acceptance/meeting/conclusion
└── 成果管理
```

---

## 🎨 UI布局草图

## 一、申报单位角色页面

### 1.1 验收申请管理页面 (`/acceptance/application/manage`)

**功能描述**：申报单位查看自己提交的所有验收申请

```
┌─────────────────────────────────────────────────────────┐
│ 📋 我的验收申请                                          │
├─────────────────────────────────────────────────────────┤
│ [新建验收申请] [批量导出]                    🔍 搜索框    │
├─────────────────────────────────────────────────────────┤
│ 📊 统计概览                                              │
│ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐                        │
│ │待审核│ │审核中│ │已通过│ │未通过│                        │
│ │  3  │ │  2  │ │  8  │ │  1  │                        │
│ └─────┘ └─────┘ └─────┘ └─────┘                        │
├─────────────────────────────────────────────────────────┤
│ 📋 申请列表                                              │
│ ┌───────────────────────────────────────────────────────┐ │
│ │项目名称    │状态  │申请时间│审核时间│操作           │ │
│ ├───────────────────────────────────────────────────────┤ │
│ │智能水务系统│待审核│01-15  │   -   │[查看][编辑]   │ │
│ │水资源平台  │审核中│01-10  │01-18  │[查看][补充]   │ │
│ │污水处理系统│已通过│12-20  │01-05  │[查看][下载]   │ │
│ └───────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

**核心功能**：
- 申请状态统计（待审核、审核中、已通过、未通过）
- 申请列表展示（项目名称、状态、申请时间、审核时间）
- 快速操作（查看、编辑、补充材料、下载结论）
- 新建验收申请入口

### 1.2 提交验收申请页面 (`/acceptance/application/submit`)

**功能描述**：申报单位提交新的验收申请

```
┌─────────────────────────────────────────────────────────┐
│ 📝 提交验收申请                                          │
├─────────────────────────────────────────────────────────┤
│ 🎯 项目选择                                              │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ 绑定项目：[智能水务管理系统 ▼]                        │ │
│ │ 项目编号：ZNWS2024001                                │ │
│ │ 项目负责人：张教授                                    │ │
│ │ 立项时间：2024-01-15                                 │ │
│ │ 项目状态：[进行中]  总预算：500万元                   │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ 📋 申请信息                                              │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ 预期验收时间：[2024-03-15 📅]                        │ │
│ │ 验收类型：[结题验收 ▼] (结题验收/阶段验收/专项验收)    │ │
│ │ 申请说明：[项目已按计划完成所有研发任务...]           │ │
│ │ 备注说明：[其他需要说明的事项（选填）]                │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ 📋 验收材料上传                                          │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ ✅ 项目验收报告      [已上传] [下载模板] [重新上传]   │ │
│ │ ⏳ 项目总结报告      [上传文件] [下载模板]            │ │
│ │ ⏳ 成果汇总材料      [上传文件] [下载模板]            │ │
│ │ ⏳ 财务决算报告      [上传文件] [下载模板]            │ │
│ │ ⏳ 知识产权清单      [上传文件] [下载模板]            │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ 📊 完整性检查                                            │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ ⚠️ 材料完整度：60% (3/5)                             │ │
│ │ 📝 缺失材料：项目总结报告、成果汇总材料               │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│                    [保存草稿] [提交申请]                 │
└─────────────────────────────────────────────────────────┘
```

**核心功能**：
- 项目选择（绑定账号关联项目，显示项目详细信息）
- 申请信息填写（预期验收时间、验收类型、申请说明、备注）
- 验收材料上传（验收报告、总结报告、成果汇总、财务决算、知识产权清单）
- 材料完整性实时检查
- 草稿保存和正式提交
- 支持整改材料重提交和重新提交功能

### 1.3 验收进度查询页面 (`/acceptance/progress/query`)

**功能描述**：查看验收申请的详细进度和状态

```
┌─────────────────────────────────────────────────────────┐
│ 📈 验收进度查询                                          │
├─────────────────────────────────────────────────────────┤
│ 🎯 项目信息                                              │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ 项目名称：智能水务管理系统                            │ │
│ │ 申请时间：2024-01-15  当前状态：[审核中]             │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ 🔄 验收流程进度                                          │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ ●━━━━━○━━━━━○━━━━━○                                   │ │
│ │ 申请提交  材料审核  组织会议  验收结论                │ │
│ │ ✅完成   🔄进行中   ⏳待定    ⏳待定                  │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ 📋 审核记录                                              │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ 2024-01-18  材料审核  审核中                         │ │
│ │ └─ 审核员：李管理员                                   │ │
│ │ └─ 说明：正在审核验收材料，预计2天内完成             │ │
│ │                                                      │ │
│ │ 2024-01-15  申请提交  已完成                         │ │
│ │ └─ 提交人：张教授                                     │ │
│ │ └─ 说明：验收申请已成功提交                           │ │
│ └───────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

**核心功能**：
- 验收流程进度可视化（申请提交→材料审核→组织会议→验收结论）
- 详细审核记录查看
- 实时状态更新
- 结论文件下载

## 二、管理角色页面

### 2.1 验收管理中心页面 (`/acceptance/management/center`)

**功能描述**：管理员的验收工作台，总览所有验收任务

```
┌─────────────────────────────────────────────────────────┐
│ 🏢 验收管理中心                                          │
├─────────────────────────────────────────────────────────┤
│ 📊 工作统计                                              │
│ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐                        │
│ │待审核│ │待组织│ │进行中│ │已完成│                        │
│ │  8  │ │  5  │ │  3  │ │ 32  │                        │
│ └─────┘ └─────┘ └─────┘ └─────┘                        │
├─────────────────────────────────────────────────────────┤
│ ⚡ 待办任务 (优先级排序)                                  │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ 🔴 智能水务系统 - 材料审核 (逾期1天)  [立即处理]     │ │
│ │ 🟡 水资源平台 - 组织会议 (明天到期)   [查看详情]     │ │
│ │ 🟢 污水处理系统 - 结论上传 (3天后)    [处理]        │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ 📋 验收项目管理                           🔍 [搜索] [筛选] │
│ ┌───────────────────────────────────────────────────────┐ │
│ │项目名称    │状态    │申请时间│负责人│操作           │ │
│ ├───────────────────────────────────────────────────────┤ │
│ │智能水务系统│待审核  │01-15  │张教授│[审核][历史]   │ │
│ │水资源平台  │待组织  │01-10  │李博士│[组织][历史]   │ │
│ │污水处理系统│会议中  │12-20  │王教授│[结论][历史]   │ │
│ └───────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

**核心功能**：
- 工作统计概览（待审核、待组织、进行中、已完成）
- 待办任务优先级排序
- 验收项目管理表格
- 快速操作入口（审核、组织、结论、历史）

### 2.2 项目历史档案页面 (`/acceptance/project/archive`)

**功能描述**：查看项目从开题到验收的完整历史记录

```
┌─────────────────────────────────────────────────────────┐
│ 📚 项目历史档案                                          │
├─────────────────────────────────────────────────────────┤
│ 🎯 项目基本信息                                          │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ 项目名称：智能水务管理系统                            │ │
│ │ 项目编号：ZNWS2024001  负责人：张教授                 │ │
│ │ 立项时间：2024-01-15   预期结题：2024-12-31          │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ 📋 项目历程时间线                                        │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ 🟢 2024-01-15  项目立项                              │ │
│ │ └─ 立项批准，项目正式启动                             │ │
│ │                                                      │ │
│ │ 🟢 2024-02-20  开题完成                              │ │
│ │ ├─ 材料提交：✅ 开题报告 ✅ 实施方案                  │ │
│ │ ├─ 开题会议：2024-02-20 (通过)                       │ │
│ │ └─ 专家意见：项目方案可行，建议加强技术路线          │ │
│ │                                                      │ │
│ │ 🟢 2024-06-15  中期检查                              │ │
│ │ ├─ 材料提交：✅ 中期报告 ✅ 进度分析                  │ │
│ │ ├─ 中期会议：2024-06-20 (通过)                       │ │
│ │ └─ 专家意见：进度正常，成果初显                      │ │
│ │                                                      │ │
│ │ 🔄 2024-01-15  验收申请 (当前阶段)                   │ │
│ │ ├─ 材料提交：✅ 验收报告 ⏳ 总结报告                  │ │
│ │ ├─ 材料审核：🔄 审核中                               │ │
│ │ └─ 验收会议：⏳ 待安排                               │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ 📎 相关文档                                              │
│ [开题材料包] [中期材料包] [验收材料包] [会议纪要]        │
└─────────────────────────────────────────────────────────┘
```

**核心功能**：
- 项目基本信息展示
- 项目历程时间线（立项→开题→中期→验收）
- 各阶段材料和会议记录
- 相关文档下载

### 2.3 材料审核管理页面 (`/acceptance/material/review`)

**功能描述**：专门的材料审核工作页面

```
┌─────────────────────────────────────────────────────────┐
│ 🔍 材料审核管理                                          │
├─────────────────────────────────────────────────────────┤
│ 🎯 当前审核项目：智能水务管理系统                        │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ 申请人：张教授  申请时间：2024-01-15                  │ │
│ │ 项目状态：进行中  预期结题：2024-12-31               │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ 📋 材料审核列表                                          │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ 📄 项目验收报告                          [✅通过]     │ │
│ │ ├─ 文件：验收报告_v1.0.pdf (2.3MB)                   │ │
│ │ ├─ 上传时间：2024-01-15 14:30                       │ │
│ │ ├─ 审核意见：[内容完整，数据真实可靠]                 │ │
│ │ └─ 操作：[预览] [下载] [修改状态]                    │ │
│ │                                                      │ │
│ │ 📄 项目总结报告                          [❌不通过]   │ │
│ │ ├─ 文件：总结报告_v1.0.pdf (1.8MB)                   │ │
│ │ ├─ 上传时间：2024-01-15 15:20                       │ │
│ │ ├─ 审核意见：[技术创新点描述不够详细，需补充]         │ │
│ │ └─ 操作：[预览] [下载] [修改状态]                    │ │
│ │                                                      │ │
│ │ 📄 成果汇总材料                          [⏳待审核]   │ │
│ │ ├─ 文件：成果汇总_v1.0.pdf (3.1MB)                   │ │
│ │ ├─ 上传时间：2024-01-16 09:15                       │ │
│ │ ├─ 审核意见：[_____________________]                │ │
│ │ └─ 操作：[预览] [下载] [开始审核]                    │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ 📝 总体审核意见                                          │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ [材料基本符合要求，建议补充技术创新点说明后通过...]   │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│              [保存审核] [通过审核] [退回修改]             │
└─────────────────────────────────────────────────────────┘
```

**核心功能**：
- 逐项材料审核（预览、下载、状态设置）
- 审核意见记录
- 总体审核意见
- 审核结果操作（通过、退回修改）

### 2.4 会议结论管理页面 (`/acceptance/meeting/conclusion`)

**功能描述**：验收会议组织和结论管理

```
┌─────────────────────────────────────────────────────────┐
│ 🏛️ 会议结论管理                                          │
├─────────────────────────────────────────────────────────┤
│ 🎯 项目信息：智能水务管理系统                            │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ 材料审核：✅ 已通过 (2024-01-18)                      │ │
│ │ 审核意见：材料完整，符合验收要求                      │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ 🤔 会议组织                                              │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ 是否组织验收会议：                                    │ │
│ │ ○ 组织验收会议    ○ 免于会议直接通过                 │ │
│ │                                                      │ │
│ │ 组织说明：                                            │ │
│ │ [项目成果显著，建议组织正式验收会议...]               │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ 📅 会议安排 (如选择组织会议)                             │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ 会议时间：[2024-01-25 14:00] 📅                      │ │
│ │ 会议地点：[第一会议室]                                │ │
│ │ 参会专家：[张院士] [李教授] [王专家] ➕               │ │
│ │ 会议主持：[刘主任]                                    │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│ 📋 验收结论上传                                          │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ 验收结果：○ 通过  ○ 不通过  ○ 有条件通过             │ │
│ │                                                      │ │
│ │ 专家评分：[85] 分                                     │ │
│ │                                                      │ │
│ │ 验收结论：                                            │ │
│ │ [项目按计划完成，达到预期目标，验收通过...]           │ │
│ │                                                      │ │
│ │ 结论文件：[上传验收结论书] 📎                         │ │
│ └───────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────┤
│                [保存] [提交结论] [发送通知]               │
└─────────────────────────────────────────────────────────┘
```

**核心功能**：
- 会议组织安排（组织会议 vs 直接通过）
- 会议安排（时间、地点、专家、主持人）
- 验收结论录入（结果、评分、结论说明）
- 结论文件上传和通知发送

---

## 🔧 技术实现方案

### 角色权限控制
```javascript
// 路由权限配置
const roleRoutes = {
  applicant: [
    '/acceptance/application/manage',
    '/acceptance/application/submit', 
    '/acceptance/progress/query'
  ],
  admin: [
    '/acceptance/management/center',
    '/acceptance/project/archive',
    '/acceptance/material/review',
    '/acceptance/meeting/conclusion'
  ]
}

// 权限检查中间件
const checkAcceptancePermission = (to, from, next) => {
  const userRole = store.getters.userRole
  const allowedRoutes = roleRoutes[userRole] || []
  
  if (allowedRoutes.includes(to.path)) {
    next()
  } else {
    next('/unauthorized')
  }
}
```

### 数据流设计
```javascript
// 验收申请数据结构
const acceptanceApplication = {
  id: 'ACC001',
  projectId: 'PROJ001',
  applicantId: 'USER001',
  status: 'submitted', // submitted, reviewing, approved, rejected
  materials: [
    {
      type: 'acceptance_report',
      name: '项目验收报告',
      file: 'report.pdf',
      status: 'approved',
      reviewComment: '内容完整，符合要求'
    }
  ],
  reviewComments: [
    {
      reviewer: 'ADMIN001',
      comment: '材料基本符合要求',
      timestamp: '2024-01-18 10:30:00'
    }
  ],
  meetingDecision: {
    decision: 'organize_meeting', // organize_meeting, direct_pass
    reason: '项目成果显著，建议组织正式验收会议',
    meetingInfo: {
      time: '2024-01-25 14:00',
      location: '第一会议室',
      experts: ['EXP001', 'EXP002'],
      host: 'HOST001'
    }
  },
  finalResult: {
    result: 'passed', // passed, failed, conditional
    score: 85,
    conclusion: '项目按计划完成，达到预期目标，验收通过',
    conclusionFile: 'conclusion.pdf'
  },
  timeline: [
    {
      stage: 'submitted',
      timestamp: '2024-01-15 09:00:00',
      operator: 'USER001',
      description: '验收申请已提交'
    }
  ]
}
```

### 组件设计
```javascript
// 验收申请管理组件
const AcceptanceApplications = {
  data() {
    return {
      applications: [],
      statistics: {
        pending: 0,
        reviewing: 0,
        passed: 0,
        rejected: 0
      },
      loading: false
    }
  },
  methods: {
    async fetchApplications() {
      this.loading = true
      try {
        const response = await this.$api.getMyApplications()
        this.applications = response.data
        this.updateStatistics()
      } catch (error) {
        this.$message.error('获取申请列表失败')
      } finally {
        this.loading = false
      }
    },
    
    updateStatistics() {
      this.statistics = this.applications.reduce((stats, app) => {
        stats[app.status]++
        return stats
      }, { pending: 0, reviewing: 0, passed: 0, rejected: 0 })
    }
  }
}
```

---

## 📋 开发计划

### Phase 1: 申报单位功能 (3天)
- [ ] 验收申请管理页面开发
- [ ] 提交验收申请页面开发  
- [ ] 验收进度查询页面开发
- [ ] 权限控制实现

### Phase 2: 管理角色功能 (4天)
- [ ] 验收管理中心页面开发
- [ ] 项目历史档案页面开发
- [ ] 材料审核管理页面开发
- [ ] 会议结论管理页面开发

### Phase 3: 集成测试 (2天)
- [ ] 角色切换测试
- [ ] 完整流程测试
- [ ] 性能优化

### Phase 4: 部署上线 (1天)
- [ ] 生产环境部署
- [ ] 用户培训文档
- [ ] 系统监控配置

---

## 🎯 预期效果

1. **角色分离明确**：申报方和管理方各司其职，避免权限混乱
2. **流程闭环完整**：从申请到结论的完整追踪，确保无遗漏
3. **历史记录完善**：项目全生命周期档案管理，便于追溯
4. **操作体验优化**：针对不同角色的专业化界面，提升效率

---

## 📝 更新日志

### v4.0 (2025-01-22)
- 🎭 实现角色分离设计，申报单位和管理角色功能独立
- 🔄 构建完整的验收申请-审核-组织-结论流程
- 📚 增加项目历史档案功能，支持全生命周期查看
- 💡 优化用户体验，提供专业化的角色界面

### v3.0 (2025-01-17)
- 🏗️ 从项目实施模块独立出来，成为项目管理的直接子模块
- 📋 简化验收功能，专注核心业务流程
- 🎨 优化页面布局和交互设计

---

*本文档基于实际业务需求设计，确保系统的实用性和可操作性。*