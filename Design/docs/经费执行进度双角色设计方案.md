# 经费执行进度双角色页面设计方案

## 一、整体架构设计

### 1.1 角色权限设计
- **填报人员角色**：项目参与者、财务人员
- **管理角色**：项目负责人、财务主管、系统管理员

### 1.2 页面入口设计
```
经费执行进度 (单一入口)
├── 系统自动识别用户角色
├── 填报人员 → 跳转到填报页面
└── 管理角色 → 跳转到管理页面
```

## 二、填报人员页面设计

### 2.1 页面布局草图
```
┌─────────────────────────────────────────────────────────────┐
│ 经费执行进度 - 填报页面                    [我的权限：填报员] │
├─────────────────────────────────────────────────────────────┤
│ 项目信息卡片                                                │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 项目名称：XXX科研项目    预算总额：¥500,000             │ │
│ │ 已使用：¥320,000 (64%)  剩余：¥180,000 (36%)           │ │
│ │ [●●●●●●●○○○] 执行进度条                              │ │
│ └─────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│ Tab切换：[预算明细] [经费填报] [使用记录] [执行分析]        │
├─────────────────────────────────────────────────────────────┤
│ 【预算明细】标签页内容                                      │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 预算科目          预算金额    已使用    剩余    执行率   │ │
│ │ 设备费            200,000    120,000   80,000   60%    │ │
│ │ 材料费            150,000    100,000   50,000   67%    │ │
│ │ 人员费            100,000     80,000   20,000   80%    │ │
│ │ 其他费用           50,000     20,000   30,000   40%    │ │
│ └─────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│ 【经费填报】标签页内容                                      │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ [+ 新增经费使用记录]                                    │ │
│ │                                                         │ │
│ │ 使用日期：[2024-01-15] 科目：[设备费 ▼]                │ │
│ │ 使用金额：[¥15,000.00]                                  │ │
│ │ 用途说明：[购买实验设备XXX]                             │ │
│ │ 发票附件：[选择文件] [已上传：invoice.pdf]              │ │
│ │                                                         │ │
│ │ [保存草稿] [提交审核]                                   │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 核心功能模块

#### A. 预算对比展示
- 实时显示预算vs实际使用对比
- 可视化进度条和百分比
- 分科目预算执行情况

#### B. 经费填报表单
- 日期、科目、金额、用途录入
- 附件上传（发票、凭证）
- 草稿保存和正式提交

#### C. 使用记录查询
- 个人填报历史记录
- 审核状态跟踪
- 记录编辑和删除

## 三、管理角色页面设计

### 3.1 页面布局草图
```
┌─────────────────────────────────────────────────────────────┐
│ 经费执行进度 - 管理页面                    [我的权限：管理员] │
├─────────────────────────────────────────────────────────────┤
│ 统计概览卡片组                                              │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │
│ │总预算   │ │已执行   │ │执行率   │ │预警项目 │           │
│ │5,000万  │ │3,200万  │ │64%     │ │12个    │           │
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘           │
├─────────────────────────────────────────────────────────────┤
│ 项目筛选：[全部项目▼] [2024年▼] [执行中▼] [搜索框]        │
├─────────────────────────────────────────────────────────────┤
│ Tab切换：[项目列表] [统计分析] [预警监控] [审核管理]        │
├─────────────────────────────────────────────────────────────┤
│ 【项目列表】标签页内容                                      │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │项目名称        预算总额   已执行   执行率  状态   操作   │ │
│ │XXX科研项目     500,000   320,000   64%   正常   [详情] │ │
│ │YYY技术研发     800,000   720,000   90%   预警   [详情] │ │
│ │ZZZ创新项目     300,000   150,000   50%   正常   [详情] │ │
│ └─────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│ 【统计分析】标签页内容                                      │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 执行趋势图          │ 科目分布饼图     │ 月度对比柱状图  │ │
│ │ [趋势线图表]        │ [饼状图]        │ [柱状图]       │ │
│ │                     │                 │                │ │
│ └─────────────────────────────────────────────────────────┘ │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 执行效率排行榜                                          │ │
│ │ 1. XXX项目 - 95% (超预期)                              │ │
│ │ 2. YYY项目 - 90% (良好)                                │ │
│ │ 3. ZZZ项目 - 50% (滞后)                                │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 3.2 核心功能模块

#### A. 统计分析仪表板
- 总体执行情况概览
- 多维度数据可视化
- 趋势分析和预测

#### B. 项目监控列表
- 所有项目执行状态
- 快速筛选和搜索
- 异常项目预警

#### C. 审核管理
- 待审核填报记录
- 批量审核操作
- 审核历史追踪

## 四、自动统计分析设计

### 4.1 数据计算逻辑
```javascript
// 自动计算指标
const statistics = {
  executionRate: (usedAmount / budgetAmount) * 100,
  remainingBudget: budgetAmount - usedAmount,
  monthlyTrend: calculateMonthlyUsage(),
  categoryDistribution: calculateCategoryUsage(),
  warningProjects: filterWarningProjects()
}
```

### 4.2 预警规则
- 执行率超过90%：橙色预警
- 执行率超过95%：红色预警
- 单月使用超过预算20%：提醒
- 剩余预算不足10%：重点关注

## 五、技术实现要点

### 5.1 权限控制
```javascript
// 角色权限配置
const permissions = {
  reporter: ['view_budget', 'submit_expense', 'view_own_records'],
  manager: ['view_all', 'approve_expense', 'export_report', 'set_warning']
}
```

### 5.2 数据流设计
1. 填报数据实时同步
2. 自动触发统计计算
3. 异步生成分析报表
4. 推送预警通知

### 5.3 界面响应式设计
- 移动端适配
- 图表自适应
- 操作反馈优化

## 六、用户体验优化

### 6.1 填报端优化
- 智能表单验证
- 自动保存草稿
- 历史数据回填
- 批量导入功能

### 6.2 管理端优化
- 实时数据刷新
- 自定义仪表板
- 报表一键导出
- 移动端推送提醒

这个设计方案实现了双角色的差异化需求，通过自动统计分析提供了强大的数据支持。 